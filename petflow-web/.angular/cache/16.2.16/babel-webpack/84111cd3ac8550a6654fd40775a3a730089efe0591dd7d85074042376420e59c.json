{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/cliente.service\";\nimport * as i3 from \"../../../services/pet.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../../components/pet-form-modal/pet-form-modal.component\";\nfunction ClienteFormComponent_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Nome \\u00E9 obrigat\\u00F3rio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Nome n\\u00E3o pode ter mais que 100 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_12_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, ClienteFormComponent_div_12_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.nome.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.f.nome.hasError(\"maxLength\"));\n  }\n}\nfunction ClienteFormComponent_div_17_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"E-mail \\u00E9 obrigat\\u00F3rio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_17_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Formato de e-mail inv\\u00E1lido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_17_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"E-mail n\\u00E3o pode ter mais que 100 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_17_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, ClienteFormComponent_div_17_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(3, ClienteFormComponent_div_17_div_3_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.f.email.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.f.email.hasError(\"email\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.f.email.hasError(\"maxLength\"));\n  }\n}\nfunction ClienteFormComponent_div_18_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Senha \\u00E9 obrigat\\u00F3ria.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_18_div_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Senha deve ter no m\\u00EDnimo 6 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_18_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Senha n\\u00E3o pode ter mais que 20 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_18_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_18_div_5_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, ClienteFormComponent_div_18_div_5_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(3, ClienteFormComponent_div_18_div_5_div_3_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.f.senha.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.f.senha.hasError(\"minLength\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.f.senha.hasError(\"maxLength\"));\n  }\n}\nfunction ClienteFormComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"label\");\n    i0.ɵɵtext(3, \"Senha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 21);\n    i0.ɵɵtemplate(5, ClienteFormComponent_div_18_div_5_Template, 4, 3, \"div\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.f.senha.invalid && (ctx_r2.f.senha.dirty || ctx_r2.f.senha.touched));\n  }\n}\nfunction ClienteFormComponent_div_24_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"CPF \\u00E9 obrigat\\u00F3rio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_24_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"CPF inv\\u00E1lido. Deve conter 11 n\\u00FAmeros.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_24_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, ClienteFormComponent_div_24_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.f.cpf.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.f.cpf.hasError(\"invalidCpf\"));\n  }\n}\nfunction ClienteFormComponent_div_29_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Telefone \\u00E9 obrigat\\u00F3rio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_29_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Telefone inv\\u00E1lido. Deve conter 10 ou 11 n\\u00FAmeros.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_29_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, ClienteFormComponent_div_29_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f.telefone.hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.f.telefone.hasError(\"invalidTelefone\"));\n  }\n}\nfunction ClienteFormComponent_div_34_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Endere\\u00E7o n\\u00E3o pode ter mais que 200 caracteres.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_34_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.f.endereco.hasError(\"maxLength\"));\n  }\n}\nfunction ClienteFormComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.errorMessage);\n  }\n}\nfunction ClienteFormComponent_div_41_ul_4_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 30)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 31)(4, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_41_ul_4_li_1_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const pet_r27 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r28.openPetModal(pet_r27));\n    });\n    i0.ɵɵtext(5, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_41_ul_4_li_1_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const pet_r27 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r30.onDeletePet(pet_r27));\n    });\n    i0.ɵɵtext(7, \"Excluir\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const pet_r27 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", pet_r27.nome, \" - \", pet_r27.especie, \"\");\n  }\n}\nfunction ClienteFormComponent_div_41_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 28);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_41_ul_4_li_1_Template, 8, 2, \"li\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r23.cliente.pets);\n  }\n}\nfunction ClienteFormComponent_div_41_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtext(1, \"Nenhum pet cadastrado.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 24)(2, \"h2\");\n    i0.ɵɵtext(3, \"Pets do Cliente\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, ClienteFormComponent_div_41_ul_4_Template, 2, 1, \"ul\", 25);\n    i0.ɵɵtemplate(5, ClienteFormComponent_div_41_ng_template_5_Template, 2, 0, \"ng-template\", null, 26, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(7, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_41_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.openPetModal());\n    });\n    i0.ɵɵtext(8, \"Adicionar Pet\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const _r24 = i0.ɵɵreference(6);\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.cliente.pets.length > 0)(\"ngIfElse\", _r24);\n  }\n}\nfunction ClienteFormComponent_app_pet_form_modal_42_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-pet-form-modal\", 35);\n    i0.ɵɵlistener(\"saveSuccess\", function ClienteFormComponent_app_pet_form_modal_42_Template_app_pet_form_modal_saveSuccess_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.handlePetSave());\n    })(\"closeModal\", function ClienteFormComponent_app_pet_form_modal_42_Template_app_pet_form_modal_closeModal_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r35.closePetModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"pet\", ctx_r8.currentPetToEdit)(\"clienteId\", ctx_r8.clienteId);\n  }\n}\nexport class ClienteFormComponent {\n  constructor(fb, clienteService, petService, router, route) {\n    this.fb = fb;\n    this.clienteService = clienteService;\n    this.petService = petService;\n    this.router = router;\n    this.route = route;\n    this.isEditMode = false;\n    this.isLoading = false;\n    this.errorMessage = null;\n    this.clienteId = null;\n    this.cliente = null;\n    this.isPetModalOpen = false;\n    this.currentPetToEdit = null;\n    this.clienteForm = this.fb.group({\n      nome: ['', [Validators.required, Validators.maxLength(100)]],\n      email: ['', [Validators.required, Validators.email, Validators.maxLength(100)]],\n      senha: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(20)]],\n      cpf: ['', [Validators.required, this.cpfValidator]],\n      telefone: ['', [Validators.required, this.telefoneValidator]],\n      endereco: ['', [Validators.maxLength(200)]] // Endereço não é obrigatório, só tem max length\n    });\n  }\n  // ADICIONADO: Getter de conveniência para acesso fácil aos controles no template\n  get f() {\n    return this.clienteForm.controls;\n  }\n  ngOnInit() {\n    const idParam = this.route.snapshot.paramMap.get('id');\n    if (idParam) {\n      this.isEditMode = true;\n      this.clienteId = +idParam;\n      this.loadClienteData();\n      // senha não obrigatória em edição\n      this.clienteForm.get('senha')?.clearValidators();\n      this.clienteForm.get('senha')?.updateValueAndValidity();\n    }\n  }\n  loadClienteData() {\n    if (!this.clienteId) return;\n    this.isLoading = true;\n    this.clienteService.getClienteById(this.clienteId).subscribe({\n      next: cliente => {\n        this.isLoading = false;\n        this.cliente = cliente;\n        this.clienteForm.patchValue({\n          nome: cliente.nome,\n          email: cliente.email,\n          cpf: cliente.cpf,\n          telefone: cliente.telefone,\n          endereco: cliente.endereco\n        });\n        // Formata os campos carregados\n        this.formatCPF({\n          target: {\n            value: this.clienteForm.get('cpf')?.value\n          }\n        });\n        this.formatTelefone({\n          target: {\n            value: this.clienteForm.get('telefone')?.value\n          }\n        });\n      },\n      error: () => {\n        this.isLoading = false;\n        this.errorMessage = \"Cliente não encontrado.\";\n        this.router.navigate(['/admin/clientes']);\n      }\n    });\n  }\n  onSubmit() {\n    // Marca todos os campos como 'touched' para exibir os erros\n    this.clienteForm.markAllAsTouched();\n    if (this.clienteForm.invalid) {\n      this.errorMessage = \"Por favor, corrija os erros no formulário.\";\n      return;\n    }\n    this.isLoading = true;\n    this.errorMessage = null;\n    const formValue = this.clienteForm.value;\n    // Remove máscara ANTES de enviar\n    const dadosCliente = {\n      ...formValue,\n      cpf: formValue.cpf.replace(/\\D/g, ''),\n      telefone: formValue.telefone.replace(/\\D/g, '')\n    };\n    // Ajusta o payload para edição (sem email/senha)\n    let payload;\n    if (this.isEditMode) {\n      payload = {\n        nome: dadosCliente.nome,\n        cpf: dadosCliente.cpf,\n        telefone: dadosCliente.telefone,\n        endereco: dadosCliente.endereco\n      };\n    } else {\n      payload = dadosCliente; // Envia tudo no modo de criação\n    }\n    const saveOperation = this.isEditMode ? this.clienteService.updateCliente(this.clienteId, payload) : this.clienteService.createCliente(payload);\n    saveOperation.subscribe({\n      next: () => {\n        this.isLoading = false;\n        this.router.navigate(['/admin/clientes']);\n      },\n      error: err => {\n        this.isLoading = false;\n        this.errorMessage = err.error?.erro || \"Erro ao salvar cliente. Verifique o CPF e E-mail.\";\n      }\n    });\n  }\n  cpfValidator(control) {\n    const cpf = control.value.replace(/\\D/g, '');\n    if (!cpf || cpf.length !== 11) {\n      return {\n        invalidCpf: 'CPF inválido. Deve conter 11 números.'\n      };\n    }\n    return null;\n  }\n  telefoneValidator(control) {\n    const telefone = control.value.replace(/\\D/g, '');\n    if (!telefone || telefone.length !== 10 && telefone.length !== 11) {\n      return {\n        invalidTelefone: 'Telefone inválido. Deve conter 10 ou 11 números.'\n      };\n    }\n    return null;\n  }\n  formatCPF(event) {\n    const input = event.target;\n    if (!input) return;\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\n    if (value.length > 3) value = value.replace(/^(\\d{3})(\\d)/, '$1.$2');\n    if (value.length > 6) value = value.replace(/^(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3');\n    if (value.length > 9) value = value.replace(/^(\\d{3})\\.(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3-$4');\n    input.value = value;\n    this.clienteForm.get('cpf')?.setValue(value, {\n      emitEvent: false\n    });\n  }\n  formatTelefone(event) {\n    const input = event.target;\n    if (!input) return;\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\n    if (value.length === 11) {\n      // Celular (00) 00000-0000\n      value = value.replace(/^(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\n    } else if (value.length === 10) {\n      // Fixo (00) 0000-0000\n      value = value.replace(/^(\\d{2})(\\d{4})(\\d{4})/, '($1) $2-$3');\n    } else if (value.length > 2) {\n      // Digitado parcialmente\n      value = value.replace(/^(\\d{2})(\\d)/, '($1) $2');\n    } else if (value.length > 0) {\n      value = value.replace(/^(\\d*)/, '($1');\n    }\n    input.value = value;\n    this.clienteForm.get('telefone')?.setValue(value, {\n      emitEvent: false\n    });\n  }\n  openPetModal(pet = null) {\n    this.currentPetToEdit = pet;\n    this.isPetModalOpen = true;\n  }\n  closePetModal() {\n    this.isPetModalOpen = false;\n    this.currentPetToEdit = null;\n  }\n  handlePetSave() {\n    this.loadClienteData();\n  }\n  onDeletePet(pet) {\n    // CUIDADO: confirm() e alert() não funcionam em iframes (como no Canvas).\n    // Substitua isso por um modal customizado.\n    // if (confirm(`Tem certeza que deseja excluir o pet \"${pet.nome}\"?`)) {\n    console.log(`Solicitando exclusão do pet: ${pet.nome}`); // Ação temporária\n    this.petService.deletePet(pet.id).subscribe({\n      next: () => this.loadClienteData(),\n      error: () => {\n        // alert(\"Erro ao excluir pet.\")\n        console.error(\"Erro ao excluir pet.\");\n        this.errorMessage = \"Erro ao excluir pet.\"; // Exibe o erro no formulário\n      }\n    });\n    // }\n  }\n  goBack() {\n    this.router.navigate(['/admin/clientes']);\n  }\n  static {\n    this.ɵfac = function ClienteFormComponent_Factory(t) {\n      return new (t || ClienteFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ClienteService), i0.ɵɵdirectiveInject(i3.PetService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClienteFormComponent,\n      selectors: [[\"app-cliente-form\"]],\n      decls: 43,\n      vars: 13,\n      consts: [[1, \"form-container\", \"card\"], [1, \"form-header\"], [\"type\", \"button\", 1, \"btn-back\", 3, \"click\"], [1, \"form-section\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-row\"], [1, \"form-group\"], [\"type\", \"text\", \"formControlName\", \"nome\", \"maxlength\", \"100\", \"placeholder\", \"Digite o nome\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"email\", \"maxlength\", \"100\", \"placeholder\", \"Digite o e-mail\"], [\"class\", \"form-row\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"cpf\", \"maxlength\", \"14\", \"placeholder\", \"000.000.000-00\", 3, \"input\"], [\"type\", \"text\", \"formControlName\", \"telefone\", \"maxlength\", \"15\", \"placeholder\", \"(00) 00000-0000\", 3, \"input\"], [\"type\", \"text\", \"formControlName\", \"endereco\", \"maxlength\", \"200\", \"placeholder\", \"Digite o endere\\u00E7o\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [\"class\", \"pet-section\", 4, \"ngIf\"], [3, \"pet\", \"clienteId\", \"saveSuccess\", \"closeModal\", 4, \"ngIf\"], [1, \"invalid-feedback\"], [4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"senha\", \"maxlength\", \"20\", \"placeholder\", \"Digite a senha\"], [1, \"error-message\"], [1, \"pet-section\"], [1, \"page-header\"], [\"class\", \"pet-list\", 4, \"ngIf\", \"ngIfElse\"], [\"noPets\", \"\"], [1, \"btn-add\", 3, \"click\"], [1, \"pet-list\"], [\"class\", \"pet-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"pet-item\"], [1, \"pet-actions\"], [1, \"btn-edit\", 3, \"click\"], [1, \"btn-delete\", 3, \"click\"], [1, \"no-data\"], [3, \"pet\", \"clienteId\", \"saveSuccess\", \"closeModal\"]],\n      template: function ClienteFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function ClienteFormComponent_Template_button_click_4_listener() {\n            return ctx.goBack();\n          });\n          i0.ɵɵtext(5, \"Voltar\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"form\", 3);\n          i0.ɵɵlistener(\"ngSubmit\", function ClienteFormComponent_Template_form_ngSubmit_6_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"label\");\n          i0.ɵɵtext(10, \"Nome\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 6);\n          i0.ɵɵtemplate(12, ClienteFormComponent_div_12_Template, 3, 2, \"div\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\");\n          i0.ɵɵtext(15, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(16, \"input\", 8);\n          i0.ɵɵtemplate(17, ClienteFormComponent_div_17_Template, 4, 3, \"div\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(18, ClienteFormComponent_div_18_Template, 6, 1, \"div\", 9);\n          i0.ɵɵelementStart(19, \"div\", 4)(20, \"div\", 5)(21, \"label\");\n          i0.ɵɵtext(22, \"CPF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"input\", 10);\n          i0.ɵɵlistener(\"input\", function ClienteFormComponent_Template_input_input_23_listener($event) {\n            return ctx.formatCPF($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(24, ClienteFormComponent_div_24_Template, 3, 2, \"div\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 5)(26, \"label\");\n          i0.ɵɵtext(27, \"Telefone\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"input\", 11);\n          i0.ɵɵlistener(\"input\", function ClienteFormComponent_Template_input_input_28_listener($event) {\n            return ctx.formatTelefone($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(29, ClienteFormComponent_div_29_Template, 3, 2, \"div\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(30, \"div\", 5)(31, \"label\");\n          i0.ɵɵtext(32, \"Endere\\u00E7o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(33, \"input\", 12);\n          i0.ɵɵtemplate(34, ClienteFormComponent_div_34_Template, 2, 1, \"div\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(35, ClienteFormComponent_div_35_Template, 2, 1, \"div\", 13);\n          i0.ɵɵelementStart(36, \"div\", 14)(37, \"button\", 15);\n          i0.ɵɵtext(38);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"button\", 16);\n          i0.ɵɵlistener(\"click\", function ClienteFormComponent_Template_button_click_39_listener() {\n            return ctx.goBack();\n          });\n          i0.ɵɵtext(40, \"Voltar\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(41, ClienteFormComponent_div_41_Template, 9, 2, \"div\", 17);\n          i0.ɵɵtemplate(42, ClienteFormComponent_app_pet_form_modal_42_Template, 1, 2, \"app-pet-form-modal\", 18);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Editar Cliente\" : \"Cadastrar Novo Cliente\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.clienteForm);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.f.nome.invalid && (ctx.f.nome.dirty || ctx.f.nome.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.f.email.invalid && (ctx.f.email.dirty || ctx.f.email.touched));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isEditMode);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.f.cpf.invalid && (ctx.f.cpf.dirty || ctx.f.cpf.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.f.telefone.invalid && (ctx.f.telefone.dirty || ctx.f.telefone.touched));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.f.endereco.invalid && (ctx.f.endereco.dirty || ctx.f.endereco.touched));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading || ctx.clienteForm.invalid);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isLoading ? \"Salvando...\" : \"Salvar Cliente\", \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.cliente);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isPetModalOpen);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.FormGroupDirective, i1.FormControlName, i6.PetFormModalComponent],\n      styles: [\"\\n\\n.form-container[_ngcontent-%COMP%] {\\n  max-width: 900px;\\n  margin: 2rem auto;\\n  padding: 2rem;\\n  background-color: #ffffff;\\n  border-radius: 12px;\\n  box-shadow: 0 4px 12px rgba(0,0,0,0.08);\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n}\\n\\n\\n\\n.form-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 2rem;\\n}\\n\\n.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  font-weight: 600;\\n  color: #333;\\n}\\n\\n.btn-back[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  color: #4F46E5; \\n\\n  font-weight: 500;\\n  cursor: pointer;\\n}\\n\\n.btn-back[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n\\n\\n.form-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1.5rem;\\n}\\n\\n.form-row[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\\n  gap: 1.5rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  margin-bottom: 0.5rem;\\n  color: #555;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  padding: 0.6rem 1rem;\\n  border-radius: 8px;\\n  border: 1px solid #ccc;\\n  font-size: 1rem;\\n  transition: all 0.2s;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus {\\n  border-color: #4F46E5;\\n  box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);\\n  outline: none;\\n}\\n\\n\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: #dc2626;\\n  font-weight: 500;\\n}\\n\\n\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 1rem;\\n  margin-top: 1rem;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  padding: 0.6rem 1.5rem;\\n  font-size: 1rem;\\n  border-radius: 8px;\\n  cursor: pointer;\\n  border: none;\\n  transition: all 0.2s;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #4F46E5;\\n  color: #fff;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: #4338ca;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #f3f4f6;\\n  color: #333;\\n  border: 1px solid #ccc;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background-color: #e5e7eb;\\n}\\n\\n\\n\\n.pet-section[_ngcontent-%COMP%] {\\n  margin-top: 2rem;\\n}\\n\\n.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  margin-bottom: 1rem;\\n  font-weight: 600;\\n  color: #333;\\n}\\n\\n.pet-list[_ngcontent-%COMP%] {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0 0 1rem 0;\\n}\\n\\n.pet-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 0.8rem 1rem;\\n  border-radius: 8px;\\n  background-color: #f9fafb;\\n  margin-bottom: 0.5rem;\\n  transition: all 0.2s;\\n}\\n\\n.pet-item[_ngcontent-%COMP%]:hover {\\n  background-color: #f3f4f6;\\n}\\n\\n.pet-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  margin-left: 0.5rem;\\n}\\n\\n.btn-edit[_ngcontent-%COMP%] {\\n  background-color: #3b82f6;\\n  color: #fff;\\n  padding: 0.4rem 0.8rem;\\n  border-radius: 6px;\\n}\\n\\n.btn-edit[_ngcontent-%COMP%]:hover {\\n  background-color: #2563eb;\\n}\\n\\n.btn-delete[_ngcontent-%COMP%] {\\n  background-color: #ef4444;\\n  color: #fff;\\n  padding: 0.4rem 0.8rem;\\n  border-radius: 6px;\\n}\\n\\n.btn-delete[_ngcontent-%COMP%]:hover {\\n  background-color: #b91c1c;\\n}\\n\\n.btn-add[_ngcontent-%COMP%] {\\n  background-color: #10b981;\\n  color: #fff;\\n  padding: 0.6rem 1.2rem;\\n  border-radius: 8px;\\n  margin-top: 1rem;\\n}\\n\\n.btn-add[_ngcontent-%COMP%]:hover {\\n  background-color: #059669;\\n}\\n\\n.no-data[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #6b7280;\\n  padding: 1rem 0;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvYWRtaW4vcGFnZXMvY2xpZW50ZXMvY2xpZW50ZS1mb3JtL2NsaWVudGUtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQjtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsdUNBQXVDO0VBQ3ZDLDREQUE0RDtBQUM5RDs7QUFFQSw0QkFBNEI7QUFDNUI7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osY0FBYyxFQUFFLGdCQUFnQjtFQUNoQyxnQkFBZ0I7RUFDaEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQSx5QkFBeUI7QUFDekI7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYiwyREFBMkQ7RUFDM0QsV0FBVztBQUNiOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsV0FBVztBQUNiOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsZUFBZTtFQUNmLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQiw0Q0FBNEM7RUFDNUMsYUFBYTtBQUNmOztBQUVBLHFCQUFxQjtBQUNyQjtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7QUFDbEI7O0FBRUEsV0FBVztBQUNYO0VBQ0UsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixTQUFTO0VBQ1QsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLFlBQVk7RUFDWixvQkFBb0I7QUFDdEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsV0FBVztBQUNiOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUEsa0JBQWtCO0FBQ2xCO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxzQkFBc0I7RUFDdEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxzQkFBc0I7RUFDdEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixjQUFjO0VBQ2QsZUFBZTtBQUNqQiIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvbnRhaW5lciBnZXJhbCAqL1xyXG4uZm9ybS1jb250YWluZXIge1xyXG4gIG1heC13aWR0aDogOTAwcHg7XHJcbiAgbWFyZ2luOiAycmVtIGF1dG87XHJcbiAgcGFkZGluZzogMnJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMDgpO1xyXG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLyogQ2FiZcODwqdhbGhvIGRvIGZvcm11bMODwqFyaW8gKi9cclxuLmZvcm0taGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbi5mb3JtLWhlYWRlciBoMSB7XHJcbiAgZm9udC1zaXplOiAxLjhyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogIzMzMztcclxufVxyXG5cclxuLmJ0bi1iYWNrIHtcclxuICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBjb2xvcjogIzRGNDZFNTsgLyogcm94byBib25pdG8gKi9cclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmJ0bi1iYWNrOmhvdmVyIHtcclxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG5cclxuLyogU2XDg8Knw4PCtWVzIGRvIGZvcm11bMODwqFyaW8gKi9cclxuLmZvcm0tc2VjdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogMS41cmVtO1xyXG59XHJcblxyXG4uZm9ybS1yb3cge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNTBweCwgMWZyKSk7XHJcbiAgZ2FwOiAxLjVyZW07XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIGxhYmVsIHtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcclxuICBjb2xvcjogIzU1NTtcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gIHBhZGRpbmc6IDAuNnJlbSAxcmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQ6Zm9jdXMge1xyXG4gIGJvcmRlci1jb2xvcjogIzRGNDZFNTtcclxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSg3OSwgNzAsIDIyOSwgMC4yKTtcclxuICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4vKiBNZW5zYWdlbSBkZSBlcnJvICovXHJcbi5lcnJvci1tZXNzYWdlIHtcclxuICBjb2xvcjogI2RjMjYyNjtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4vKiBCb3TDg8K1ZXMgKi9cclxuLmZvcm0tYWN0aW9ucyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gIGdhcDogMXJlbTtcclxuICBtYXJnaW4tdG9wOiAxcmVtO1xyXG59XHJcblxyXG5idXR0b24ge1xyXG4gIHBhZGRpbmc6IDAuNnJlbSAxLjVyZW07XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG59XHJcblxyXG4uYnRuLXByaW1hcnkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0RjQ2RTU7XHJcbiAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQzMzhjYTtcclxufVxyXG5cclxuLmJ0bi1zZWNvbmRhcnkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2Y0ZjY7XHJcbiAgY29sb3I6ICMzMzM7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxufVxyXG5cclxuLmJ0bi1zZWNvbmRhcnk6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNWU3ZWI7XHJcbn1cclxuXHJcbi8qIFNlw4PCp8ODwqNvIGRlIFBldHMgKi9cclxuLnBldC1zZWN0aW9uIHtcclxuICBtYXJnaW4tdG9wOiAycmVtO1xyXG59XHJcblxyXG4ucGFnZS1oZWFkZXIgaDIge1xyXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogIzMzMztcclxufVxyXG5cclxuLnBldC1saXN0IHtcclxuICBsaXN0LXN0eWxlOiBub25lO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgbWFyZ2luOiAwIDAgMXJlbSAwO1xyXG59XHJcblxyXG4ucGV0LWl0ZW0ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgcGFkZGluZzogMC44cmVtIDFyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWZhZmI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG59XHJcblxyXG4ucGV0LWl0ZW06aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2Y0ZjY7XHJcbn1cclxuXHJcbi5wZXQtYWN0aW9ucyBidXR0b24ge1xyXG4gIG1hcmdpbi1sZWZ0OiAwLjVyZW07XHJcbn1cclxuXHJcbi5idG4tZWRpdCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNiODJmNjtcclxuICBjb2xvcjogI2ZmZjtcclxuICBwYWRkaW5nOiAwLjRyZW0gMC44cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcclxufVxyXG5cclxuLmJ0bi1lZGl0OmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjU2M2ViO1xyXG59XHJcblxyXG4uYnRuLWRlbGV0ZSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VmNDQ0NDtcclxuICBjb2xvcjogI2ZmZjtcclxuICBwYWRkaW5nOiAwLjRyZW0gMC44cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDZweDtcclxufVxyXG5cclxuLmJ0bi1kZWxldGU6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNiOTFjMWM7XHJcbn1cclxuXHJcbi5idG4tYWRkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTBiOTgxO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIHBhZGRpbmc6IDAuNnJlbSAxLjJyZW07XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIG1hcmdpbi10b3A6IDFyZW07XHJcbn1cclxuXHJcbi5idG4tYWRkOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDU5NjY5O1xyXG59XHJcblxyXG4ubm8tZGF0YSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGNvbG9yOiAjNmI3MjgwO1xyXG4gIHBhZGRpbmc6IDFyZW0gMDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ClienteFormComponent_div_12_div_1_Template","ClienteFormComponent_div_12_div_2_Template","ɵɵadvance","ɵɵproperty","ctx_r0","f","nome","hasError","ClienteFormComponent_div_17_div_1_Template","ClienteFormComponent_div_17_div_2_Template","ClienteFormComponent_div_17_div_3_Template","ctx_r1","email","ClienteFormComponent_div_18_div_5_div_1_Template","ClienteFormComponent_div_18_div_5_div_2_Template","ClienteFormComponent_div_18_div_5_div_3_Template","ctx_r14","senha","ɵɵelement","ClienteFormComponent_div_18_div_5_Template","ctx_r2","invalid","dirty","touched","ClienteFormComponent_div_24_div_1_Template","ClienteFormComponent_div_24_div_2_Template","ctx_r3","cpf","ClienteFormComponent_div_29_div_1_Template","ClienteFormComponent_div_29_div_2_Template","ctx_r4","telefone","ClienteFormComponent_div_34_div_1_Template","ctx_r5","endereco","ɵɵtextInterpolate","ctx_r6","errorMessage","ɵɵlistener","ClienteFormComponent_div_41_ul_4_li_1_Template_button_click_4_listener","restoredCtx","ɵɵrestoreView","_r29","pet_r27","$implicit","ctx_r28","ɵɵnextContext","ɵɵresetView","openPetModal","ClienteFormComponent_div_41_ul_4_li_1_Template_button_click_6_listener","ctx_r30","onDeletePet","ɵɵtextInterpolate2","especie","ClienteFormComponent_div_41_ul_4_li_1_Template","ctx_r23","cliente","pets","ClienteFormComponent_div_41_ul_4_Template","ClienteFormComponent_div_41_ng_template_5_Template","ɵɵtemplateRefExtractor","ClienteFormComponent_div_41_Template_button_click_7_listener","_r32","ctx_r31","ctx_r7","length","_r24","ClienteFormComponent_app_pet_form_modal_42_Template_app_pet_form_modal_saveSuccess_0_listener","_r34","ctx_r33","handlePetSave","ClienteFormComponent_app_pet_form_modal_42_Template_app_pet_form_modal_closeModal_0_listener","ctx_r35","closePetModal","ctx_r8","currentPetToEdit","clienteId","ClienteFormComponent","constructor","fb","clienteService","petService","router","route","isEditMode","isLoading","isPetModalOpen","clienteForm","group","required","maxLength","minLength","cpfValidator","telefoneValidator","controls","ngOnInit","idParam","snapshot","paramMap","get","loadClienteData","clearValidators","updateValueAndValidity","getClienteById","subscribe","next","patchValue","formatCPF","target","value","formatTelefone","error","navigate","onSubmit","markAllAsTouched","formValue","dadosCliente","replace","payload","saveOperation","updateCliente","createCliente","err","erro","control","invalidCpf","invalidTelefone","event","input","slice","setValue","emitEvent","pet","console","log","deletePet","id","goBack","ɵɵdirectiveInject","i1","FormBuilder","i2","ClienteService","i3","PetService","i4","Router","ActivatedRoute","selectors","decls","vars","consts","template","ClienteFormComponent_Template","rf","ctx","ClienteFormComponent_Template_button_click_4_listener","ClienteFormComponent_Template_form_ngSubmit_6_listener","ClienteFormComponent_div_12_Template","ClienteFormComponent_div_17_Template","ClienteFormComponent_div_18_Template","ClienteFormComponent_Template_input_input_23_listener","$event","ClienteFormComponent_div_24_Template","ClienteFormComponent_Template_input_input_28_listener","ClienteFormComponent_div_29_Template","ClienteFormComponent_div_34_Template","ClienteFormComponent_div_35_Template","ClienteFormComponent_Template_button_click_39_listener","ClienteFormComponent_div_41_Template","ClienteFormComponent_app_pet_form_modal_42_Template","ɵɵtextInterpolate1"],"sources":["C:\\TCC\\petflow\\petflow-web\\src\\app\\features\\admin\\pages\\clientes\\cliente-form\\cliente-form.component.ts","C:\\TCC\\petflow\\petflow-web\\src\\app\\features\\admin\\pages\\clientes\\cliente-form\\cliente-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, AbstractControl, ValidationErrors } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClienteService } from '../../../services/cliente.service';\r\nimport { PetService } from '../../../services/pet.service';\r\nimport { Cliente } from '../../../models/cliente.model';\r\nimport { Pet } from '../../../models/pet.model';\r\n\r\n@Component({\r\nselector: 'app-cliente-form',\r\ntemplateUrl: './cliente-form.component.html',\r\nstyleUrls: ['./cliente-form.component.css']\r\n})\r\nexport class ClienteFormComponent implements OnInit {\r\nclienteForm: FormGroup;\r\nisEditMode = false;\r\nisLoading = false;\r\nerrorMessage: string | null = null;\r\n\r\npublic clienteId: number | null = null;\r\npublic cliente: Cliente | null = null;\r\n\r\npublic isPetModalOpen = false;\r\npublic currentPetToEdit: Pet | null = null;\r\n\r\nconstructor(\r\n    private fb: FormBuilder,\r\n    private clienteService: ClienteService,\r\n    private petService: PetService,\r\n    private router: Router,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    this.clienteForm = this.fb.group({\r\n      nome: ['', [Validators.required, Validators.maxLength(100)]],\r\n      email: ['', [Validators.required, Validators.email, Validators.maxLength(100)]],\r\n      senha: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(20)]],\r\n      cpf: ['', [Validators.required, this.cpfValidator]],\r\n      telefone: ['', [Validators.required, this.telefoneValidator]],\r\n      endereco: ['', [Validators.maxLength(200)]] // Endereço não é obrigatório, só tem max length\r\n    });\r\n  }\r\n\r\n  // ADICIONADO: Getter de conveniência para acesso fácil aos controles no template\r\n  get f() {\r\n    return this.clienteForm.controls;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const idParam = this.route.snapshot.paramMap.get('id');\r\n    if (idParam) {\r\n      this.isEditMode = true;\r\n      this.clienteId = +idParam;\r\n      this.loadClienteData();\r\n\r\n      // senha não obrigatória em edição\r\n      this.clienteForm.get('senha')?.clearValidators();\r\n      this.clienteForm.get('senha')?.updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  loadClienteData(): void {\r\n    if (!this.clienteId) return;\r\n    this.isLoading = true;\r\n\r\n    this.clienteService.getClienteById(this.clienteId).subscribe({\r\n      next: (cliente) => {\r\n        this.isLoading = false;\r\n        this.cliente = cliente;\r\n        this.clienteForm.patchValue({\r\n          nome: cliente.nome,\r\n          email: cliente.email,\r\n          cpf: cliente.cpf, // Assumindo que o serviço já retorna formatado. Se não, formate aqui.\r\n          telefone: cliente.telefone, // Assumindo que o serviço já retorna formatado.\r\n          endereco: cliente.endereco\r\n        });\r\n        // Formata os campos carregados\r\n        this.formatCPF({ target: { value: this.clienteForm.get('cpf')?.value } } as any);\r\n        this.formatTelefone({ target: { value: this.clienteForm.get('telefone')?.value } } as any);\r\n      },\r\n      error: () => {\r\n        this.isLoading = false;\r\n        this.errorMessage = \"Cliente não encontrado.\";\r\n        this.router.navigate(['/admin/clientes']);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    // Marca todos os campos como 'touched' para exibir os erros\r\n    this.clienteForm.markAllAsTouched();\r\n\r\n    if (this.clienteForm.invalid) {\r\n      this.errorMessage = \"Por favor, corrija os erros no formulário.\";\r\n      return;\r\n    }\r\n\r\n    this.isLoading = true;\r\n    this.errorMessage = null;\r\n    const formValue = this.clienteForm.value;\r\n\r\n    // Remove máscara ANTES de enviar\r\n    const dadosCliente = {\r\n      ...formValue,\r\n      cpf: formValue.cpf.replace(/\\D/g, ''),\r\n      telefone: formValue.telefone.replace(/\\D/g, '')\r\n    };\r\n\r\n    // Ajusta o payload para edição (sem email/senha)\r\n    let payload: any;\r\n    if (this.isEditMode) {\r\n      payload = {\r\n        nome: dadosCliente.nome,\r\n        cpf: dadosCliente.cpf,\r\n        telefone: dadosCliente.telefone,\r\n        endereco: dadosCliente.endereco\r\n      };\r\n    } else {\r\n      payload = dadosCliente; // Envia tudo no modo de criação\r\n    }\r\n\r\n\r\n    const saveOperation = this.isEditMode\r\n      ? this.clienteService.updateCliente(this.clienteId!, payload)\r\n      : this.clienteService.createCliente(payload);\r\n\r\n    saveOperation.subscribe({\r\n      next: () => {\r\n        this.isLoading = false;\r\n        this.router.navigate(['/admin/clientes']);\r\n      },\r\n      error: (err) => {\r\n        this.isLoading = false;\r\n        this.errorMessage = err.error?.erro || \"Erro ao salvar cliente. Verifique o CPF e E-mail.\";\r\n      }\r\n    });\r\n  }\r\n\r\n  cpfValidator(control: AbstractControl): ValidationErrors | null {\r\n    const cpf = control.value.replace(/\\D/g, '');\r\n    if (!cpf || cpf.length !== 11) {\r\n      return { invalidCpf: 'CPF inválido. Deve conter 11 números.' };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  telefoneValidator(control: AbstractControl): ValidationErrors | null {\r\n    const telefone = control.value.replace(/\\D/g, '');\r\n    if (!telefone || (telefone.length !== 10 && telefone.length !== 11)) {\r\n      return { invalidTelefone: 'Telefone inválido. Deve conter 10 ou 11 números.' };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  formatCPF(event: Event) {\r\n    const input = event.target as HTMLInputElement;\r\n    if (!input) return;\r\n\r\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\r\n    if (value.length > 3) value = value.replace(/^(\\d{3})(\\d)/, '$1.$2');\r\n    if (value.length > 6) value = value.replace(/^(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3');\r\n    if (value.length > 9) value = value.replace(/^(\\d{3})\\.(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3-$4');\r\n    input.value = value;\r\n    this.clienteForm.get('cpf')?.setValue(value, { emitEvent: false });\r\n  }\r\n\r\n  formatTelefone(event: Event) {\r\n    const input = event.target as HTMLInputElement;\r\n    if (!input) return;\r\n\r\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\r\n\r\n    if (value.length === 11) { // Celular (00) 00000-0000\r\n      value = value.replace(/^(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\r\n    } else if (value.length === 10) { // Fixo (00) 0000-0000\r\n      value = value.replace(/^(\\d{2})(\\d{4})(\\d{4})/, '($1) $2-$3');\r\n    } else if (value.length > 2) { // Digitado parcialmente\r\n       value = value.replace(/^(\\d{2})(\\d)/, '($1) $2');\r\n    } else if (value.length > 0) {\r\n       value = value.replace(/^(\\d*)/, '($1');\r\n    }\r\n\r\n    input.value = value;\r\n    this.clienteForm.get('telefone')?.setValue(value, { emitEvent: false });\r\n  }\r\n\r\n  openPetModal(pet: Pet | null = null): void {\r\n    this.currentPetToEdit = pet;\r\n    this.isPetModalOpen = true;\r\n  }\r\n\r\n  closePetModal(): void {\r\n    this.isPetModalOpen = false;\r\n    this.currentPetToEdit = null;\r\n  }\r\n\r\n  handlePetSave(): void {\r\n    this.loadClienteData();\r\n  }\r\n\r\n  onDeletePet(pet: Pet): void {\r\n    // CUIDADO: confirm() e alert() não funcionam em iframes (como no Canvas).\r\n    // Substitua isso por um modal customizado.\r\n    // if (confirm(`Tem certeza que deseja excluir o pet \"${pet.nome}\"?`)) {\r\n    console.log(`Solicitando exclusão do pet: ${pet.nome}`); // Ação temporária\r\n\r\n    this.petService.deletePet(pet.id).subscribe({\r\n      next: () => this.loadClienteData(),\r\n      error: () => {\r\n        // alert(\"Erro ao excluir pet.\")\r\n        console.error(\"Erro ao excluir pet.\");\r\n        this.errorMessage = \"Erro ao excluir pet.\"; // Exibe o erro no formulário\r\n      }\r\n    });\r\n    // }\r\n  }\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/admin/clientes']);\r\n  }\r\n}","<div class=\"form-container card\">\r\n    <div class=\"form-header\">\r\n        <h1>{{ isEditMode ? 'Editar Cliente' : 'Cadastrar Novo Cliente' }}</h1>\r\n        <button type=\"button\" class=\"btn-back\" (click)=\"goBack()\">Voltar</button>\r\n    </div>\r\n\r\n    <form [formGroup]=\"clienteForm\" (ngSubmit)=\"onSubmit()\" class=\"form-section\">\r\n        <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n                <label>Nome</label>\r\n                <input type=\"text\" formControlName=\"nome\" maxlength=\"100\" placeholder=\"Digite o nome\">\r\n                <!-- Validação -->\r\n                <div *ngIf=\"f.nome.invalid && (f.nome.dirty || f.nome.touched)\" class=\"invalid-feedback\">\r\n                    <div *ngIf=\"f.nome.hasError('required')\">Nome é obrigatório.</div>\r\n                    <div *ngIf=\"f.nome.hasError('maxLength')\">Nome não pode ter mais que 100 caracteres.</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label>E-mail</label>\r\n                <input type=\"email\" formControlName=\"email\" maxlength=\"100\" placeholder=\"Digite o e-mail\">\r\n                <!-- Validação -->\r\n                <div *ngIf=\"f.email.invalid && (f.email.dirty || f.email.touched)\" class=\"invalid-feedback\">\r\n                    <div *ngIf=\"f.email.hasError('required')\">E-mail é obrigatório.</div>\r\n                    <div *ngIf=\"f.email.hasError('email')\">Formato de e-mail inválido.</div>\r\n                    <div *ngIf=\"f.email.hasError('maxLength')\">E-mail não pode ter mais que 100 caracteres.</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\" *ngIf=\"!isEditMode\">\r\n            <div class=\"form-group\">\r\n                <label>Senha</label>\r\n                <input type=\"password\" formControlName=\"senha\" maxlength=\"20\" placeholder=\"Digite a senha\">\r\n                <!-- Validação -->\r\n                <div *ngIf=\"f.senha.invalid && (f.senha.dirty || f.senha.touched)\" class=\"invalid-feedback\">\r\n                    <div *ngIf=\"f.senha.hasError('required')\">Senha é obrigatória.</div>\r\n                    <div *ngIf=\"f.senha.hasError('minLength')\">Senha deve ter no mínimo 6 caracteres.</div>\r\n                    <div *ngIf=\"f.senha.hasError('maxLength')\">Senha não pode ter mais que 20 caracteres.</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n                <label>CPF</label>\r\n                <input type=\"text\"\r\n                       formControlName=\"cpf\"\r\n                       maxlength=\"14\"\r\n                       placeholder=\"000.000.000-00\"\r\n                       (input)=\"formatCPF($event)\">\r\n                <!-- Validação -->\r\n                <div *ngIf=\"f.cpf.invalid && (f.cpf.dirty || f.cpf.touched)\" class=\"invalid-feedback\">\r\n                    <div *ngIf=\"f.cpf.hasError('required')\">CPF é obrigatório.</div>\r\n                    <div *ngIf=\"f.cpf.hasError('invalidCpf')\">CPF inválido. Deve conter 11 números.</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label>Telefone</label>\r\n                <input type=\"text\"\r\n                       formControlName=\"telefone\"\r\n                       maxlength=\"15\"\r\n                       placeholder=\"(00) 00000-0000\"\r\n                       (input)=\"formatTelefone($event)\">\r\n                <!-- Validação -->\r\n                <div *ngIf=\"f.telefone.invalid && (f.telefone.dirty || f.telefone.touched)\" class=\"invalid-feedback\">\r\n                    <div *ngIf=\"f.telefone.hasError('required')\">Telefone é obrigatório.</div>\r\n                    <div *ngIf=\"f.telefone.hasError('invalidTelefone')\">Telefone inválido. Deve conter 10 ou 11 números.</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label>Endereço</label>\r\n            <input type=\"text\" formControlName=\"endereco\" maxlength=\"200\" placeholder=\"Digite o endereço\">\r\n            <!-- Validação (só para max length, já que não é obrigatório) -->\r\n            <div *ngIf=\"f.endereco.invalid && (f.endereco.dirty || f.endereco.touched)\" class=\"invalid-feedback\">\r\n                <div *ngIf=\"f.endereco.hasError('maxLength')\">Endereço não pode ter mais que 200 caracteres.</div>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n\r\n        <div class=\"form-actions\">\r\n            <!-- Botão Salvar agora desabilita se o formulário for inválido -->\r\n            <button type=\"submit\" [disabled]=\"isLoading || clienteForm.invalid\" class=\"btn-primary\">\r\n                {{ isLoading ? 'Salvando...' : 'Salvar Cliente' }}\r\n            </button>\r\n            <button type=\"button\" class=\"btn-secondary\" (click)=\"goBack()\">Voltar</button>\r\n        </div>\r\n    </form>\r\n\r\n    <!-- Seção de Pets (sem alterações) -->\r\n    <div class=\"pet-section\" *ngIf=\"cliente\">\r\n        <div class=\"page-header\">\r\n            <h2>Pets do Cliente</h2>\r\n        </div>\r\n        <ul *ngIf=\"cliente.pets.length > 0; else noPets\" class=\"pet-list\">\r\n            <li *ngFor=\"let pet of cliente.pets\" class=\"pet-item\">\r\n                <span>{{ pet.nome }} - {{ pet.especie }}</span>\r\n                <div class=\"pet-actions\">\r\n                    <button (click)=\"openPetModal(pet)\" class=\"btn-edit\">Editar</button>\r\n                    <button (click)=\"onDeletePet(pet)\" class=\"btn-delete\">Excluir</button>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n        <ng-template #noPets>\r\n            <div class=\"no-data\">Nenhum pet cadastrado.</div>\r\n        </ng-template>\r\n\r\n        <button class=\"btn-add\" (click)=\"openPetModal()\">Adicionar Pet</button>\r\n    </div>\r\n\r\n    <!-- Modal de Pet (sem alterações) -->\r\n    <app-pet-form-modal\r\n            *ngIf=\"isPetModalOpen\"\r\n            [pet]=\"currentPetToEdit\"\r\n            [clienteId]=\"clienteId\"\r\n            (saveSuccess)=\"handlePetSave()\"\r\n            (closeModal)=\"closePetModal()\">\r\n    </app-pet-form-modal>\r\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}