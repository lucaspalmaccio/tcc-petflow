{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/cliente.service\";\nimport * as i3 from \"../../../services/pet.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../../components/pet-form-modal/pet-form-modal.component\";\nfunction ClienteFormComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"label\");\n    i0.ɵɵtext(3, \"Senha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 18);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ClienteFormComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nfunction ClienteFormComponent_div_36_ul_4_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 27)(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 28)(4, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_36_ul_4_li_1_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const pet_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.openPetModal(pet_r8));\n    });\n    i0.ɵɵtext(5, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_36_ul_4_li_1_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const pet_r8 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.onDeletePet(pet_r8));\n    });\n    i0.ɵɵtext(7, \"Excluir\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const pet_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", pet_r8.nome, \" - \", pet_r8.especie, \"\");\n  }\n}\nfunction ClienteFormComponent_div_36_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 25);\n    i0.ɵɵtemplate(1, ClienteFormComponent_div_36_ul_4_li_1_Template, 8, 2, \"li\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.cliente.pets);\n  }\n}\nfunction ClienteFormComponent_div_36_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtext(1, \"Nenhum pet cadastrado.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"div\", 21)(2, \"h2\");\n    i0.ɵɵtext(3, \"Pets do Cliente\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, ClienteFormComponent_div_36_ul_4_Template, 2, 1, \"ul\", 22);\n    i0.ɵɵtemplate(5, ClienteFormComponent_div_36_ng_template_5_Template, 2, 0, \"ng-template\", null, 23, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(7, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_36_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.openPetModal());\n    });\n    i0.ɵɵtext(8, \"Adicionar Pet\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const _r5 = i0.ɵɵreference(6);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.cliente.pets.length > 0)(\"ngIfElse\", _r5);\n  }\n}\nfunction ClienteFormComponent_app_pet_form_modal_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-pet-form-modal\", 32);\n    i0.ɵɵlistener(\"saveSuccess\", function ClienteFormComponent_app_pet_form_modal_37_Template_app_pet_form_modal_saveSuccess_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.handlePetSave());\n    })(\"closeModal\", function ClienteFormComponent_app_pet_form_modal_37_Template_app_pet_form_modal_closeModal_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.closePetModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"pet\", ctx_r3.currentPetToEdit)(\"clienteId\", ctx_r3.clienteId);\n  }\n}\nexport class ClienteFormComponent {\n  constructor(fb, clienteService, petService, router, route) {\n    this.fb = fb;\n    this.clienteService = clienteService;\n    this.petService = petService;\n    this.router = router;\n    this.route = route;\n    this.isEditMode = false;\n    this.isLoading = false;\n    this.errorMessage = null;\n    this.clienteId = null;\n    this.cliente = null;\n    this.isPetModalOpen = false;\n    this.currentPetToEdit = null;\n    this.clienteForm = this.fb.group({\n      nome: ['', [Validators.required, Validators.maxLength(100)]],\n      email: ['', [Validators.required, Validators.email, Validators.maxLength(100)]],\n      senha: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(20)]],\n      cpf: ['', [Validators.required, this.cpfValidator]],\n      telefone: ['', [Validators.required, this.telefoneValidator]],\n      endereco: ['', [Validators.maxLength(200)]] // Endereço não é obrigatório, só tem max length\n    });\n  }\n  // ADICIONADO: Getter de conveniência para acesso fácil aos controles no template\n  get f() {\n    return this.clienteForm.controls;\n  }\n  ngOnInit() {\n    const idParam = this.route.snapshot.paramMap.get('id');\n    if (idParam) {\n      this.isEditMode = true;\n      this.clienteId = +idParam;\n      this.loadClienteData();\n      // senha não obrigatória em edição\n      this.clienteForm.get('senha')?.clearValidators();\n      this.clienteForm.get('senha')?.updateValueAndValidity();\n    }\n  }\n  loadClienteData() {\n    if (!this.clienteId) return;\n    this.isLoading = true;\n    this.clienteService.getClienteById(this.clienteId).subscribe({\n      next: cliente => {\n        this.isLoading = false;\n        this.cliente = cliente;\n        this.clienteForm.patchValue({\n          nome: cliente.nome,\n          email: cliente.email,\n          cpf: cliente.cpf,\n          telefone: cliente.telefone,\n          endereco: cliente.endereco\n        });\n        // Formata os campos carregados\n        this.formatCPF({\n          target: {\n            value: this.clienteForm.get('cpf')?.value\n          }\n        });\n        this.formatTelefone({\n          target: {\n            value: this.clienteForm.get('telefone')?.value\n          }\n        });\n      },\n      error: () => {\n        this.isLoading = false;\n        this.errorMessage = \"Cliente não encontrado.\";\n        this.router.navigate(['/admin/clientes']);\n      }\n    });\n  }\n  onSubmit() {\n    // Marca todos os campos como 'touched' para exibir os erros\n    this.clienteForm.markAllAsTouched();\n    if (this.clienteForm.invalid) {\n      this.errorMessage = \"Por favor, corrija os erros no formulário.\";\n      return;\n    }\n    this.isLoading = true;\n    this.errorMessage = null;\n    const formValue = this.clienteForm.value;\n    // Remove máscara ANTES de enviar\n    const dadosCliente = {\n      ...formValue,\n      cpf: formValue.cpf.replace(/\\D/g, ''),\n      telefone: formValue.telefone.replace(/\\D/g, '')\n    };\n    // Ajusta o payload para edição (sem email/senha)\n    let payload;\n    if (this.isEditMode) {\n      payload = {\n        nome: dadosCliente.nome,\n        cpf: dadosCliente.cpf,\n        telefone: dadosCliente.telefone,\n        endereco: dadosCliente.endereco\n      };\n    } else {\n      payload = dadosCliente; // Envia tudo no modo de criação\n    }\n    const saveOperation = this.isEditMode ? this.clienteService.updateCliente(this.clienteId, payload) : this.clienteService.createCliente(payload);\n    saveOperation.subscribe({\n      next: () => {\n        this.isLoading = false;\n        this.router.navigate(['/admin/clientes']);\n      },\n      error: err => {\n        this.isLoading = false;\n        this.errorMessage = err.error?.erro || \"Erro ao salvar cliente. Verifique o CPF e E-mail.\";\n      }\n    });\n  }\n  cpfValidator(control) {\n    const cpf = control.value.replace(/\\D/g, '');\n    if (!cpf || cpf.length !== 11) {\n      return {\n        invalidCpf: 'CPF inválido. Deve conter 11 números.'\n      };\n    }\n    return null;\n  }\n  telefoneValidator(control) {\n    const telefone = control.value.replace(/\\D/g, '');\n    if (!telefone || telefone.length !== 10 && telefone.length !== 11) {\n      return {\n        invalidTelefone: 'Telefone inválido. Deve conter 10 ou 11 números.'\n      };\n    }\n    return null;\n  }\n  formatCPF(event) {\n    const input = event.target;\n    if (!input) return;\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\n    if (value.length > 3) value = value.replace(/^(\\d{3})(\\d)/, '$1.$2');\n    if (value.length > 6) value = value.replace(/^(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3');\n    if (value.length > 9) value = value.replace(/^(\\d{3})\\.(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3-$4');\n    input.value = value;\n    this.clienteForm.get('cpf')?.setValue(value, {\n      emitEvent: false\n    });\n  }\n  formatTelefone(event) {\n    const input = event.target;\n    if (!input) return;\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\n    if (value.length === 11) {\n      // Celular (00) 00000-0000\n      value = value.replace(/^(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\n    } else if (value.length === 10) {\n      // Fixo (00) 0000-0000\n      value = value.replace(/^(\\d{2})(\\d{4})(\\d{4})/, '($1) $2-$3');\n    } else if (value.length > 2) {\n      // Digitado parcialmente\n      value = value.replace(/^(\\d{2})(\\d)/, '($1) $2');\n    } else if (value.length > 0) {\n      value = value.replace(/^(\\d*)/, '($1');\n    }\n    input.value = value;\n    this.clienteForm.get('telefone')?.setValue(value, {\n      emitEvent: false\n    });\n  }\n  openPetModal(pet = null) {\n    this.currentPetToEdit = pet;\n    this.isPetModalOpen = true;\n  }\n  closePetModal() {\n    this.isPetModalOpen = false;\n    this.currentPetToEdit = null;\n  }\n  handlePetSave() {\n    this.loadClienteData();\n  }\n  onDeletePet(pet) {\n    // CUIDADO: confirm() e alert() não funcionam em iframes (como no Canvas).\n    // Substitua isso por um modal customizado.\n    // if (confirm(`Tem certeza que deseja excluir o pet \"${pet.nome}\"?`)) {\n    console.log(`Solicitando exclusão do pet: ${pet.nome}`); // Ação temporária\n    this.petService.deletePet(pet.id).subscribe({\n      next: () => this.loadClienteData(),\n      error: () => {\n        // alert(\"Erro ao excluir pet.\")\n        console.error(\"Erro ao excluir pet.\");\n        this.errorMessage = \"Erro ao excluir pet.\"; // Exibe o erro no formulário\n      }\n    });\n    // }\n  }\n  goBack() {\n    this.router.navigate(['/admin/clientes']);\n  }\n  static {\n    this.ɵfac = function ClienteFormComponent_Factory(t) {\n      return new (t || ClienteFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ClienteService), i0.ɵɵdirectiveInject(i3.PetService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClienteFormComponent,\n      selectors: [[\"app-cliente-form\"]],\n      decls: 38,\n      vars: 8,\n      consts: [[1, \"form-container\", \"card\"], [1, \"form-header\"], [\"type\", \"button\", 1, \"btn-back\", 3, \"click\"], [1, \"form-section\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-row\"], [1, \"form-group\"], [\"type\", \"text\", \"formControlName\", \"nome\", \"maxlength\", \"100\", \"placeholder\", \"Digite o nome\"], [\"type\", \"email\", \"formControlName\", \"email\", \"maxlength\", \"100\", \"placeholder\", \"Digite o e-mail\"], [\"class\", \"form-row\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"cpf\", \"maxlength\", \"14\", \"placeholder\", \"000.000.000-00\", 3, \"input\"], [\"type\", \"text\", \"formControlName\", \"telefone\", \"maxlength\", \"15\", \"placeholder\", \"(00) 00000-0000\", 3, \"input\"], [\"type\", \"text\", \"formControlName\", \"endereco\", \"maxlength\", \"200\", \"placeholder\", \"Digite o endere\\u00E7o\"], [\"class\", \"error-message\", 4, \"ngIf\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn-secondary\", 3, \"click\"], [\"class\", \"pet-section\", 4, \"ngIf\"], [3, \"pet\", \"clienteId\", \"saveSuccess\", \"closeModal\", 4, \"ngIf\"], [\"type\", \"password\", \"formControlName\", \"senha\", \"maxlength\", \"20\", \"placeholder\", \"Digite a senha\"], [1, \"error-message\"], [1, \"pet-section\"], [1, \"page-header\"], [\"class\", \"pet-list\", 4, \"ngIf\", \"ngIfElse\"], [\"noPets\", \"\"], [1, \"btn-add\", 3, \"click\"], [1, \"pet-list\"], [\"class\", \"pet-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"pet-item\"], [1, \"pet-actions\"], [1, \"btn-edit\", 3, \"click\"], [1, \"btn-delete\", 3, \"click\"], [1, \"no-data\"], [3, \"pet\", \"clienteId\", \"saveSuccess\", \"closeModal\"]],\n      template: function ClienteFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function ClienteFormComponent_Template_button_click_4_listener() {\n            return ctx.goBack();\n          });\n          i0.ɵɵtext(5, \"Voltar\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"form\", 3);\n          i0.ɵɵlistener(\"ngSubmit\", function ClienteFormComponent_Template_form_ngSubmit_6_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"label\");\n          i0.ɵɵtext(10, \"Nome\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 5)(13, \"label\");\n          i0.ɵɵtext(14, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(15, \"input\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(16, ClienteFormComponent_div_16_Template, 5, 0, \"div\", 8);\n          i0.ɵɵelementStart(17, \"div\", 4)(18, \"div\", 5)(19, \"label\");\n          i0.ɵɵtext(20, \"CPF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"input\", 9);\n          i0.ɵɵlistener(\"input\", function ClienteFormComponent_Template_input_input_21_listener($event) {\n            return ctx.formatCPF($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 5)(23, \"label\");\n          i0.ɵɵtext(24, \"Telefone\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"input\", 10);\n          i0.ɵɵlistener(\"input\", function ClienteFormComponent_Template_input_input_25_listener($event) {\n            return ctx.formatTelefone($event);\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"div\", 5)(27, \"label\");\n          i0.ɵɵtext(28, \"Endere\\u00E7o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(29, \"input\", 11);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(30, ClienteFormComponent_div_30_Template, 2, 1, \"div\", 12);\n          i0.ɵɵelementStart(31, \"div\", 13)(32, \"button\", 14);\n          i0.ɵɵtext(33);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"button\", 15);\n          i0.ɵɵlistener(\"click\", function ClienteFormComponent_Template_button_click_34_listener() {\n            return ctx.goBack();\n          });\n          i0.ɵɵtext(35, \"Voltar\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(36, ClienteFormComponent_div_36_Template, 9, 2, \"div\", 16);\n          i0.ɵɵtemplate(37, ClienteFormComponent_app_pet_form_modal_37_Template, 1, 2, \"app-pet-form-modal\", 17);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Editar Cliente\" : \"Cadastrar Novo Cliente\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.clienteForm);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isEditMode);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isLoading ? \"Salvando...\" : \"Salvar Cliente\", \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.cliente);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isPetModalOpen);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.FormGroupDirective, i1.FormControlName, i6.PetFormModalComponent],\n      styles: [\"\\n\\n.form-container[_ngcontent-%COMP%] {\\n  max-width: 900px;\\n  margin: 2rem auto;\\n  padding: 2rem;\\n  background-color: #ffffff;\\n  border-radius: 12px;\\n  box-shadow: 0 4px 12px rgba(0,0,0,0.08);\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n}\\n\\n\\n\\n.form-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 2rem;\\n}\\n\\n.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  font-weight: 600;\\n  color: #333;\\n}\\n\\n.btn-back[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  color: #4F46E5; \\n\\n  font-weight: 500;\\n  cursor: pointer;\\n}\\n\\n.btn-back[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n\\n\\n.form-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1.5rem;\\n}\\n\\n.form-row[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\\n  gap: 1.5rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  margin-bottom: 0.5rem;\\n  color: #555;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  padding: 0.6rem 1rem;\\n  border-radius: 8px;\\n  border: 1px solid #ccc;\\n  font-size: 1rem;\\n  transition: all 0.2s;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus {\\n  border-color: #4F46E5;\\n  box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);\\n  outline: none;\\n}\\n\\n\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: #dc2626;\\n  font-weight: 500;\\n  background-color: #fef2f2;\\n  border: 1px solid #ef4444;\\n  border-radius: 8px;\\n  padding: 0.8rem 1rem;\\n}\\n\\n\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  gap: 1rem;\\n  margin-top: 1rem;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  padding: 0.6rem 1.5rem;\\n  font-size: 1rem;\\n  border-radius: 8px;\\n  cursor: pointer;\\n  border: none;\\n  transition: all 0.2s;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #4F46E5;\\n  color: #fff;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: #4338ca;\\n}\\n\\n\\n\\n.btn-primary[_ngcontent-%COMP%]:disabled {\\n  background-color: #a5b4fc; \\n\\n  cursor: not-allowed;\\n}\\n\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: #f3f4f6;\\n  color: #333;\\n  border: 1px solid #ccc;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%]:hover {\\n  background-color: #e5e7eb;\\n}\\n\\n\\n\\n.pet-section[_ngcontent-%COMP%] {\\n  margin-top: 2rem;\\n  border-top: 1px solid #e5e7eb;\\n  padding-top: 2rem;\\n}\\n\\n.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  margin-bottom: 1rem;\\n  font-weight: 600;\\n  color: #333;\\n}\\n\\n.pet-list[_ngcontent-%COMP%] {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0 0 1rem 0;\\n}\\n\\n.pet-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 0.8rem 1rem;\\n  border-radius: 8px;\\n  background-color: #f9fafb;\\n  margin-bottom: 0.5rem;\\n  transition: all 0.2s;\\n}\\n\\n.pet-item[_ngcontent-%COMP%]:hover {\\n  background-color: #f3f4f6;\\n}\\n\\n.pet-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  margin-left: 0.5rem;\\n}\\n\\n.btn-edit[_ngcontent-%COMP%] {\\n  background-color: #3b82f6;\\n  color: #fff;\\n  padding: 0.4rem 0.8rem;\\n  border-radius: 6px;\\n}\\n\\n.btn-edit[_ngcontent-%COMP%]:hover {\\n  background-color: #2563eb;\\n}\\n\\n.btn-delete[_ngcontent-%COMP%] {\\n  background-color: #ef4444;\\n  color: #fff;\\n  padding: 0.4rem 0.8rem;\\n  border-radius: 6px;\\n}\\n\\n.btn-delete[_ngcontent-%COMP%]:hover {\\n  background-color: #b91c1c;\\n}\\n\\n.btn-add[_ngcontent-%COMP%] {\\n  background-color: #10b981;\\n  color: #fff;\\n  padding: 0.6rem 1.2rem;\\n  border-radius: 8px;\\n  margin-top: 1rem;\\n}\\n\\n.btn-add[_ngcontent-%COMP%]:hover {\\n  background-color: #059669;\\n}\\n\\n.no-data[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #6b7280;\\n  padding: 1rem 0;\\n}\\n\\n\\n\\n\\n\\n\\n\\n.invalid-feedback[_ngcontent-%COMP%] {\\n  color: #dc2626; \\n\\n  font-size: 0.875em; \\n\\n  font-weight: 500;\\n  margin-top: 0.25rem; \\n\\n}\\n\\n\\n\\n.form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-dirty[_ngcontent-%COMP%] {\\n  border-color: #dc2626;\\n}\\n\\n\\n\\n.form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-dirty[_ngcontent-%COMP%]:focus {\\n  border-color: #dc2626;\\n  box-shadow: 0 0 0 2px rgba(220, 38, 38, 0.2);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvYWRtaW4vcGFnZXMvY2xpZW50ZXMvY2xpZW50ZS1mb3JtL2NsaWVudGUtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQjtFQUNFLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsYUFBYTtFQUNiLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsdUNBQXVDO0VBQ3ZDLDREQUE0RDtBQUM5RDs7QUFFQSw0QkFBNEI7QUFDNUI7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osY0FBYyxFQUFFLGdCQUFnQjtFQUNoQyxnQkFBZ0I7RUFDaEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQSx5QkFBeUI7QUFDekI7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYiwyREFBMkQ7RUFDM0QsV0FBVztBQUNiOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixxQkFBcUI7RUFDckIsV0FBVztBQUNiOztBQUVBO0VBQ0Usb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsZUFBZTtFQUNmLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQiw0Q0FBNEM7RUFDNUMsYUFBYTtBQUNmOztBQUVBLDRCQUE0QjtBQUM1QjtFQUNFLGNBQWM7RUFDZCxnQkFBZ0I7RUFDaEIseUJBQXlCO0VBQ3pCLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsb0JBQW9CO0FBQ3RCOztBQUVBLFdBQVc7QUFDWDtFQUNFLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsU0FBUztFQUNULGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixZQUFZO0VBQ1osb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSxtQ0FBbUM7QUFDbkM7RUFDRSx5QkFBeUIsRUFBRSxvQkFBb0I7RUFDL0MsbUJBQW1CO0FBQ3JCOzs7QUFHQTtFQUNFLHlCQUF5QjtFQUN6QixXQUFXO0VBQ1gsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBLGtCQUFrQjtBQUNsQjtFQUNFLGdCQUFnQjtFQUNoQiw2QkFBNkI7RUFDN0IsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFVBQVU7RUFDVixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsb0JBQW9CO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxzQkFBc0I7RUFDdEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxzQkFBc0I7RUFDdEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFdBQVc7RUFDWCxzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixjQUFjO0VBQ2QsZUFBZTtBQUNqQjs7O0FBR0EsK0NBQStDOztBQUUvQyxtREFBbUQ7QUFDbkQ7RUFDRSxjQUFjLEVBQUUsZ0NBQWdDO0VBQ2hELGtCQUFrQixFQUFFLFNBQVM7RUFDN0IsZ0JBQWdCO0VBQ2hCLG1CQUFtQixFQUFFLFFBQVE7QUFDL0I7O0FBRUEsd0VBQXdFO0FBQ3hFOztFQUVFLHFCQUFxQjtBQUN2Qjs7QUFFQSwyREFBMkQ7QUFDM0Q7O0VBRUUscUJBQXFCO0VBQ3JCLDRDQUE0QztBQUM5QyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvbnRhaW5lciBnZXJhbCAqL1xyXG4uZm9ybS1jb250YWluZXIge1xyXG4gIG1heC13aWR0aDogOTAwcHg7XHJcbiAgbWFyZ2luOiAycmVtIGF1dG87XHJcbiAgcGFkZGluZzogMnJlbTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMDgpO1xyXG4gIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLyogQ2FiZcODwqdhbGhvIGRvIGZvcm11bMODwqFyaW8gKi9cclxuLmZvcm0taGVhZGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuXHJcbi5mb3JtLWhlYWRlciBoMSB7XHJcbiAgZm9udC1zaXplOiAxLjhyZW07XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogIzMzMztcclxufVxyXG5cclxuLmJ0bi1iYWNrIHtcclxuICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBjb2xvcjogIzRGNDZFNTsgLyogcm94byBib25pdG8gKi9cclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmJ0bi1iYWNrOmhvdmVyIHtcclxuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG5cclxuLyogU2XDg8Knw4PCtWVzIGRvIGZvcm11bMODwqFyaW8gKi9cclxuLmZvcm0tc2VjdGlvbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGdhcDogMS41cmVtO1xyXG59XHJcblxyXG4uZm9ybS1yb3cge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgyNTBweCwgMWZyKSk7XHJcbiAgZ2FwOiAxLjVyZW07XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIGxhYmVsIHtcclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcclxuICBjb2xvcjogIzU1NTtcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gIHBhZGRpbmc6IDAuNnJlbSAxcmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQ6Zm9jdXMge1xyXG4gIGJvcmRlci1jb2xvcjogIzRGNDZFNTtcclxuICBib3gtc2hhZG93OiAwIDAgMCAycHggcmdiYSg3OSwgNzAsIDIyOSwgMC4yKTtcclxuICBvdXRsaW5lOiBub25lO1xyXG59XHJcblxyXG4vKiBNZW5zYWdlbSBkZSBlcnJvIGdsb2JhbCAqL1xyXG4uZXJyb3ItbWVzc2FnZSB7XHJcbiAgY29sb3I6ICNkYzI2MjY7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVmMmYyO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNlZjQ0NDQ7XHJcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gIHBhZGRpbmc6IDAuOHJlbSAxcmVtO1xyXG59XHJcblxyXG4vKiBCb3TDg8K1ZXMgKi9cclxuLmZvcm0tYWN0aW9ucyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gIGdhcDogMXJlbTtcclxuICBtYXJnaW4tdG9wOiAxcmVtO1xyXG59XHJcblxyXG5idXR0b24ge1xyXG4gIHBhZGRpbmc6IDAuNnJlbSAxLjVyZW07XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjJzO1xyXG59XHJcblxyXG4uYnRuLXByaW1hcnkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0RjQ2RTU7XHJcbiAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi5idG4tcHJpbWFyeTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQzMzhjYTtcclxufVxyXG5cclxuLyogRXN0aWxvIHBhcmEgYm90w4PCo28gZGVzYWJpbGl0YWRvICovXHJcbi5idG4tcHJpbWFyeTpkaXNhYmxlZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2E1YjRmYzsgLyogUm94byBtYWlzIGNsYXJvICovXHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG5cclxuXHJcbi5idG4tc2Vjb25kYXJ5IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmNGY2O1xyXG4gIGNvbG9yOiAjMzMzO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbn1cclxuXHJcbi5idG4tc2Vjb25kYXJ5OmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlN2ViO1xyXG59XHJcblxyXG4vKiBTZcODwqfDg8KjbyBkZSBQZXRzICovXHJcbi5wZXQtc2VjdGlvbiB7XHJcbiAgbWFyZ2luLXRvcDogMnJlbTtcclxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2U1ZTdlYjtcclxuICBwYWRkaW5nLXRvcDogMnJlbTtcclxufVxyXG5cclxuLnBhZ2UtaGVhZGVyIGgyIHtcclxuICBmb250LXNpemU6IDEuNXJlbTtcclxuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgY29sb3I6ICMzMzM7XHJcbn1cclxuXHJcbi5wZXQtbGlzdCB7XHJcbiAgbGlzdC1zdHlsZTogbm9uZTtcclxuICBwYWRkaW5nOiAwO1xyXG4gIG1hcmdpbjogMCAwIDFyZW0gMDtcclxufVxyXG5cclxuLnBldC1pdGVtIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDAuOHJlbSAxcmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZiO1xyXG4gIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcclxuICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcclxufVxyXG5cclxuLnBldC1pdGVtOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjNmNGY2O1xyXG59XHJcblxyXG4ucGV0LWFjdGlvbnMgYnV0dG9uIHtcclxuICBtYXJnaW4tbGVmdDogMC41cmVtO1xyXG59XHJcblxyXG4uYnRuLWVkaXQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMzYjgyZjY7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgcGFkZGluZzogMC40cmVtIDAuOHJlbTtcclxuICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbn1cclxuXHJcbi5idG4tZWRpdDpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI1NjNlYjtcclxufVxyXG5cclxuLmJ0bi1kZWxldGUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZjQ0NDQ7XHJcbiAgY29sb3I6ICNmZmY7XHJcbiAgcGFkZGluZzogMC40cmVtIDAuOHJlbTtcclxuICBib3JkZXItcmFkaXVzOiA2cHg7XHJcbn1cclxuXHJcbi5idG4tZGVsZXRlOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjkxYzFjO1xyXG59XHJcblxyXG4uYnRuLWFkZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzEwYjk4MTtcclxuICBjb2xvcjogI2ZmZjtcclxuICBwYWRkaW5nOiAwLjZyZW0gMS4ycmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBtYXJnaW4tdG9wOiAxcmVtO1xyXG59XHJcblxyXG4uYnRuLWFkZDpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzA1OTY2OTtcclxufVxyXG5cclxuLm5vLWRhdGEge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBjb2xvcjogIzZiNzI4MDtcclxuICBwYWRkaW5nOiAxcmVtIDA7XHJcbn1cclxuXHJcblxyXG4vKiA9PT0gRVNUSUxPUyBERSBWQUxJREHDg8KHw4PCg08gKEFESUNJT05BRE9TKSA9PT0gKi9cclxuXHJcbi8qIENvbnRhaW5lciBkYSBtZW5zYWdlbSBkZSBlcnJvICh0ZXh0byB2ZXJtZWxobykgKi9cclxuLmludmFsaWQtZmVlZGJhY2sge1xyXG4gIGNvbG9yOiAjZGMyNjI2OyAvKiBWZXJtZWxobyAoVGFpbHdpbmQgcmVkLTYwMCkgKi9cclxuICBmb250LXNpemU6IDAuODc1ZW07IC8qIDE0cHggKi9cclxuICBmb250LXdlaWdodDogNTAwO1xyXG4gIG1hcmdpbi10b3A6IDAuMjVyZW07IC8qIDRweCAqL1xyXG59XHJcblxyXG4vKiBBZGljaW9uYSBib3JkYSB2ZXJtZWxoYSBhbyBpbnB1dCBpbnbDg8KhbGlkbyBxdWUgZm9pIHRvY2Fkby9tb2RpZmljYWRvICovXHJcbi5mb3JtLWdyb3VwIGlucHV0Lm5nLWludmFsaWQubmctdG91Y2hlZCxcclxuLmZvcm0tZ3JvdXAgaW5wdXQubmctaW52YWxpZC5uZy1kaXJ0eSB7XHJcbiAgYm9yZGVyLWNvbG9yOiAjZGMyNjI2O1xyXG59XHJcblxyXG4vKiBBZGljaW9uYSBzb21icmEgdmVybWVsaGEgbm8gZm9jdXMgZGUgdW0gaW5wdXQgaW52w4PCoWxpZG8gKi9cclxuLmZvcm0tZ3JvdXAgaW5wdXQubmctaW52YWxpZC5uZy10b3VjaGVkOmZvY3VzLFxyXG4uZm9ybS1ncm91cCBpbnB1dC5uZy1pbnZhbGlkLm5nLWRpcnR5OmZvY3VzIHtcclxuICBib3JkZXItY29sb3I6ICNkYzI2MjY7XHJcbiAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHJnYmEoMjIwLCAzOCwgMzgsIDAuMik7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","errorMessage","ɵɵlistener","ClienteFormComponent_div_36_ul_4_li_1_Template_button_click_4_listener","restoredCtx","ɵɵrestoreView","_r10","pet_r8","$implicit","ctx_r9","ɵɵnextContext","ɵɵresetView","openPetModal","ClienteFormComponent_div_36_ul_4_li_1_Template_button_click_6_listener","ctx_r11","onDeletePet","ɵɵtextInterpolate2","nome","especie","ɵɵtemplate","ClienteFormComponent_div_36_ul_4_li_1_Template","ɵɵproperty","ctx_r4","cliente","pets","ClienteFormComponent_div_36_ul_4_Template","ClienteFormComponent_div_36_ng_template_5_Template","ɵɵtemplateRefExtractor","ClienteFormComponent_div_36_Template_button_click_7_listener","_r13","ctx_r12","ctx_r2","length","_r5","ClienteFormComponent_app_pet_form_modal_37_Template_app_pet_form_modal_saveSuccess_0_listener","_r15","ctx_r14","handlePetSave","ClienteFormComponent_app_pet_form_modal_37_Template_app_pet_form_modal_closeModal_0_listener","ctx_r16","closePetModal","ctx_r3","currentPetToEdit","clienteId","ClienteFormComponent","constructor","fb","clienteService","petService","router","route","isEditMode","isLoading","isPetModalOpen","clienteForm","group","required","maxLength","email","senha","minLength","cpf","cpfValidator","telefone","telefoneValidator","endereco","f","controls","ngOnInit","idParam","snapshot","paramMap","get","loadClienteData","clearValidators","updateValueAndValidity","getClienteById","subscribe","next","patchValue","formatCPF","target","value","formatTelefone","error","navigate","onSubmit","markAllAsTouched","invalid","formValue","dadosCliente","replace","payload","saveOperation","updateCliente","createCliente","err","erro","control","invalidCpf","invalidTelefone","event","input","slice","setValue","emitEvent","pet","console","log","deletePet","id","goBack","ɵɵdirectiveInject","i1","FormBuilder","i2","ClienteService","i3","PetService","i4","Router","ActivatedRoute","selectors","decls","vars","consts","template","ClienteFormComponent_Template","rf","ctx","ClienteFormComponent_Template_button_click_4_listener","ClienteFormComponent_Template_form_ngSubmit_6_listener","ClienteFormComponent_div_16_Template","ClienteFormComponent_Template_input_input_21_listener","$event","ClienteFormComponent_Template_input_input_25_listener","ClienteFormComponent_div_30_Template","ClienteFormComponent_Template_button_click_34_listener","ClienteFormComponent_div_36_Template","ClienteFormComponent_app_pet_form_modal_37_Template","ɵɵtextInterpolate1"],"sources":["C:\\TCC\\petflow\\petflow-web\\src\\app\\features\\admin\\pages\\clientes\\cliente-form\\cliente-form.component.ts","C:\\TCC\\petflow\\petflow-web\\src\\app\\features\\admin\\pages\\clientes\\cliente-form\\cliente-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, AbstractControl, ValidationErrors } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClienteService } from '../../../services/cliente.service';\r\nimport { PetService } from '../../../services/pet.service';\r\nimport { Cliente } from '../../../models/cliente.model';\r\nimport { Pet } from '../../../models/pet.model';\r\n\r\n@Component({\r\nselector: 'app-cliente-form',\r\ntemplateUrl: './cliente-form.component.html',\r\nstyleUrls: ['./cliente-form.component.css']\r\n})\r\nexport class ClienteFormComponent implements OnInit {\r\nclienteForm: FormGroup;\r\nisEditMode = false;\r\nisLoading = false;\r\nerrorMessage: string | null = null;\r\n\r\npublic clienteId: number | null = null;\r\npublic cliente: Cliente | null = null;\r\n\r\npublic isPetModalOpen = false;\r\npublic currentPetToEdit: Pet | null = null;\r\n\r\nconstructor(\r\n    private fb: FormBuilder,\r\n    private clienteService: ClienteService,\r\n    private petService: PetService,\r\n    private router: Router,\r\n    private route: ActivatedRoute\r\n  ) {\r\n    this.clienteForm = this.fb.group({\r\n      nome: ['', [Validators.required, Validators.maxLength(100)]],\r\n      email: ['', [Validators.required, Validators.email, Validators.maxLength(100)]],\r\n      senha: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(20)]],\r\n      cpf: ['', [Validators.required, this.cpfValidator]],\r\n      telefone: ['', [Validators.required, this.telefoneValidator]],\r\n      endereco: ['', [Validators.maxLength(200)]] // Endereço não é obrigatório, só tem max length\r\n    });\r\n  }\r\n\r\n  // ADICIONADO: Getter de conveniência para acesso fácil aos controles no template\r\n  get f() {\r\n    return this.clienteForm.controls;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const idParam = this.route.snapshot.paramMap.get('id');\r\n    if (idParam) {\r\n      this.isEditMode = true;\r\n      this.clienteId = +idParam;\r\n      this.loadClienteData();\r\n\r\n      // senha não obrigatória em edição\r\n      this.clienteForm.get('senha')?.clearValidators();\r\n      this.clienteForm.get('senha')?.updateValueAndValidity();\r\n    }\r\n  }\r\n\r\n  loadClienteData(): void {\r\n    if (!this.clienteId) return;\r\n    this.isLoading = true;\r\n\r\n    this.clienteService.getClienteById(this.clienteId).subscribe({\r\n      next: (cliente) => {\r\n        this.isLoading = false;\r\n        this.cliente = cliente;\r\n        this.clienteForm.patchValue({\r\n          nome: cliente.nome,\r\n          email: cliente.email,\r\n          cpf: cliente.cpf, // Assumindo que o serviço já retorna formatado. Se não, formate aqui.\r\n          telefone: cliente.telefone, // Assumindo que o serviço já retorna formatado.\r\n          endereco: cliente.endereco\r\n        });\r\n        // Formata os campos carregados\r\n        this.formatCPF({ target: { value: this.clienteForm.get('cpf')?.value } } as any);\r\n        this.formatTelefone({ target: { value: this.clienteForm.get('telefone')?.value } } as any);\r\n      },\r\n      error: () => {\r\n        this.isLoading = false;\r\n        this.errorMessage = \"Cliente não encontrado.\";\r\n        this.router.navigate(['/admin/clientes']);\r\n      }\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    // Marca todos os campos como 'touched' para exibir os erros\r\n    this.clienteForm.markAllAsTouched();\r\n\r\n    if (this.clienteForm.invalid) {\r\n      this.errorMessage = \"Por favor, corrija os erros no formulário.\";\r\n      return;\r\n    }\r\n\r\n    this.isLoading = true;\r\n    this.errorMessage = null;\r\n    const formValue = this.clienteForm.value;\r\n\r\n    // Remove máscara ANTES de enviar\r\n    const dadosCliente = {\r\n      ...formValue,\r\n      cpf: formValue.cpf.replace(/\\D/g, ''),\r\n      telefone: formValue.telefone.replace(/\\D/g, '')\r\n    };\r\n\r\n    // Ajusta o payload para edição (sem email/senha)\r\n    let payload: any;\r\n    if (this.isEditMode) {\r\n      payload = {\r\n        nome: dadosCliente.nome,\r\n        cpf: dadosCliente.cpf,\r\n        telefone: dadosCliente.telefone,\r\n        endereco: dadosCliente.endereco\r\n      };\r\n    } else {\r\n      payload = dadosCliente; // Envia tudo no modo de criação\r\n    }\r\n\r\n\r\n    const saveOperation = this.isEditMode\r\n      ? this.clienteService.updateCliente(this.clienteId!, payload)\r\n      : this.clienteService.createCliente(payload);\r\n\r\n    saveOperation.subscribe({\r\n      next: () => {\r\n        this.isLoading = false;\r\n        this.router.navigate(['/admin/clientes']);\r\n      },\r\n      error: (err) => {\r\n        this.isLoading = false;\r\n        this.errorMessage = err.error?.erro || \"Erro ao salvar cliente. Verifique o CPF e E-mail.\";\r\n      }\r\n    });\r\n  }\r\n\r\n  cpfValidator(control: AbstractControl): ValidationErrors | null {\r\n    const cpf = control.value.replace(/\\D/g, '');\r\n    if (!cpf || cpf.length !== 11) {\r\n      return { invalidCpf: 'CPF inválido. Deve conter 11 números.' };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  telefoneValidator(control: AbstractControl): ValidationErrors | null {\r\n    const telefone = control.value.replace(/\\D/g, '');\r\n    if (!telefone || (telefone.length !== 10 && telefone.length !== 11)) {\r\n      return { invalidTelefone: 'Telefone inválido. Deve conter 10 ou 11 números.' };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  formatCPF(event: Event) {\r\n    const input = event.target as HTMLInputElement;\r\n    if (!input) return;\r\n\r\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\r\n    if (value.length > 3) value = value.replace(/^(\\d{3})(\\d)/, '$1.$2');\r\n    if (value.length > 6) value = value.replace(/^(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3');\r\n    if (value.length > 9) value = value.replace(/^(\\d{3})\\.(\\d{3})\\.(\\d{3})(\\d)/, '$1.$2.$3-$4');\r\n    input.value = value;\r\n    this.clienteForm.get('cpf')?.setValue(value, { emitEvent: false });\r\n  }\r\n\r\n  formatTelefone(event: Event) {\r\n    const input = event.target as HTMLInputElement;\r\n    if (!input) return;\r\n\r\n    let value = input.value.replace(/\\D/g, '').slice(0, 11);\r\n\r\n    if (value.length === 11) { // Celular (00) 00000-0000\r\n      value = value.replace(/^(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\r\n    } else if (value.length === 10) { // Fixo (00) 0000-0000\r\n      value = value.replace(/^(\\d{2})(\\d{4})(\\d{4})/, '($1) $2-$3');\r\n    } else if (value.length > 2) { // Digitado parcialmente\r\n       value = value.replace(/^(\\d{2})(\\d)/, '($1) $2');\r\n    } else if (value.length > 0) {\r\n       value = value.replace(/^(\\d*)/, '($1');\r\n    }\r\n\r\n    input.value = value;\r\n    this.clienteForm.get('telefone')?.setValue(value, { emitEvent: false });\r\n  }\r\n\r\n  openPetModal(pet: Pet | null = null): void {\r\n    this.currentPetToEdit = pet;\r\n    this.isPetModalOpen = true;\r\n  }\r\n\r\n  closePetModal(): void {\r\n    this.isPetModalOpen = false;\r\n    this.currentPetToEdit = null;\r\n  }\r\n\r\n  handlePetSave(): void {\r\n    this.loadClienteData();\r\n  }\r\n\r\n  onDeletePet(pet: Pet): void {\r\n    // CUIDADO: confirm() e alert() não funcionam em iframes (como no Canvas).\r\n    // Substitua isso por um modal customizado.\r\n    // if (confirm(`Tem certeza que deseja excluir o pet \"${pet.nome}\"?`)) {\r\n    console.log(`Solicitando exclusão do pet: ${pet.nome}`); // Ação temporária\r\n\r\n    this.petService.deletePet(pet.id).subscribe({\r\n      next: () => this.loadClienteData(),\r\n      error: () => {\r\n        // alert(\"Erro ao excluir pet.\")\r\n        console.error(\"Erro ao excluir pet.\");\r\n        this.errorMessage = \"Erro ao excluir pet.\"; // Exibe o erro no formulário\r\n      }\r\n    });\r\n    // }\r\n  }\r\n\r\n  goBack(): void {\r\n    this.router.navigate(['/admin/clientes']);\r\n  }\r\n}","<div class=\"form-container card\">\r\n    <div class=\"form-header\">\r\n        <h1>{{ isEditMode ? 'Editar Cliente' : 'Cadastrar Novo Cliente' }}</h1>\r\n        <button type=\"button\" class=\"btn-back\" (click)=\"goBack()\">Voltar</button>\r\n    </div>\r\n\r\n    <form [formGroup]=\"clienteForm\" (ngSubmit)=\"onSubmit()\" class=\"form-section\">\r\n        <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n                <label>Nome</label>\r\n                <input type=\"text\" formControlName=\"nome\" maxlength=\"100\" placeholder=\"Digite o nome\">\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label>E-mail</label>\r\n                <input type=\"email\" formControlName=\"email\" maxlength=\"100\" placeholder=\"Digite o e-mail\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\" *ngIf=\"!isEditMode\">\r\n            <div class=\"form-group\">\r\n                <label>Senha</label>\r\n                <input type=\"password\" formControlName=\"senha\" maxlength=\"20\" placeholder=\"Digite a senha\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-row\">\r\n            <div class=\"form-group\">\r\n                <label>CPF</label>\r\n                <input type=\"text\"\r\n                       formControlName=\"cpf\"\r\n                       maxlength=\"14\"\r\n                       placeholder=\"000.000.000-00\"\r\n                       (input)=\"formatCPF($event)\">\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                <label>Telefone</label>\r\n                <input type=\"text\"\r\n                       formControlName=\"telefone\"\r\n                       maxlength=\"15\"\r\n                       placeholder=\"(00) 00000-0000\"\r\n                       (input)=\"formatTelefone($event)\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label>Endereço</label>\r\n            <input type=\"text\" formControlName=\"endereco\" maxlength=\"200\" placeholder=\"Digite o endereço\">\r\n        </div>\r\n\r\n        <div *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n\r\n        <div class=\"form-actions\">\r\n            <button type=\"submit\" [disabled]=\"isLoading\" class=\"btn-primary\">\r\n                {{ isLoading ? 'Salvando...' : 'Salvar Cliente' }}\r\n            </button>\r\n            <button type=\"button\" class=\"btn-secondary\" (click)=\"goBack()\">Voltar</button>\r\n        </div>\r\n    </form>\r\n\r\n    <div class=\"pet-section\" *ngIf=\"cliente\">\r\n        <div class=\"page-header\">\r\n            <h2>Pets do Cliente</h2>\r\n        </div>\r\n        <ul *ngIf=\"cliente.pets.length > 0; else noPets\" class=\"pet-list\">\r\n            <li *ngFor=\"let pet of cliente.pets\" class=\"pet-item\">\r\n                <span>{{ pet.nome }} - {{ pet.especie }}</span>\r\n                <div class=\"pet-actions\">\r\n                    <button (click)=\"openPetModal(pet)\" class=\"btn-edit\">Editar</button>\r\n                    <button (click)=\"onDeletePet(pet)\" class=\"btn-delete\">Excluir</button>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n        <ng-template #noPets>\r\n            <div class=\"no-data\">Nenhum pet cadastrado.</div>\r\n        </ng-template>\r\n\r\n        <button class=\"btn-add\" (click)=\"openPetModal()\">Adicionar Pet</button>\r\n    </div>\r\n\r\n    <app-pet-form-modal\r\n            *ngIf=\"isPetModalOpen\"\r\n            [pet]=\"currentPetToEdit\"\r\n            [clienteId]=\"clienteId\"\r\n            (saveSuccess)=\"handlePetSave()\"\r\n            (closeModal)=\"closePetModal()\">\r\n    </app-pet-form-modal>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}