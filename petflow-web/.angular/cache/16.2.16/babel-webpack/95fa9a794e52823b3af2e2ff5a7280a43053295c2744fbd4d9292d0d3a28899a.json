{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { environment } from '../../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class AgendamentoService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${environment.apiUrl}/api/agendamentos`;\n  }\n  /**\n   * UC05 - Criar Agendamento (Usado pelo Cliente e Admin)\n   */\n  createAgendamento(dto) {\n    return this.http.post(this.apiUrl, dto);\n  }\n  /**\n   * UC05 - Listar Agendamentos (para Cliente ou Admin)\n   * O back-end filtra automaticamente com base no perfil (ROLE) do token.\n   */\n  getAgendamentos(inicio, fim) {\n    let params = new HttpParams();\n    if (inicio) {\n      params = params.set('inicio', inicio);\n    }\n    if (fim) {\n      params = params.set('fim', fim);\n    }\n    return this.http.get(this.apiUrl, {\n      params\n    });\n  }\n  /**\n   * CT03.4 - Cancelar Agendamento\n   */\n  cancelarAgendamento(id) {\n    return this.http.patch(`${this.apiUrl}/${id}/cancelar`, {});\n  }\n  static {\n    this.ɵfac = function AgendamentoService_Factory(t) {\n      return new (t || AgendamentoService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: AgendamentoService,\n      factory: AgendamentoService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["HttpParams","environment","AgendamentoService","constructor","http","apiUrl","createAgendamento","dto","post","getAgendamentos","inicio","fim","params","set","get","cancelarAgendamento","id","patch","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\TCC\\petflow\\petflow-web\\src\\app\\features\\admin\\services\\agendamento.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../../environments/environment';\r\nimport { AgendamentoRequestDTO, AgendamentoResponse } from '../models/agendamento.model';\r\n\r\n@Injectable({\r\nprovidedIn: 'root'\r\n})\r\nexport class AgendamentoService {\r\n\r\nprivate apiUrl = `${environment.apiUrl}/api/agendamentos`;\r\n\r\nconstructor(private http: HttpClient) { }\r\n\r\n  /**\r\n   * UC05 - Criar Agendamento (Usado pelo Cliente e Admin)\r\n   */\r\n  createAgendamento(dto: AgendamentoRequestDTO): Observable<AgendamentoResponse> {\r\n    return this.http.post<AgendamentoResponse>(this.apiUrl, dto);\r\n  }\r\n\r\n  /**\r\n   * UC05 - Listar Agendamentos (para Cliente ou Admin)\r\n   * O back-end filtra automaticamente com base no perfil (ROLE) do token.\r\n   */\r\n  getAgendamentos(inicio?: string, fim?: string): Observable<AgendamentoResponse[]> {\r\n    let params = new HttpParams();\r\n    if (inicio) {\r\n      params = params.set('inicio', inicio);\r\n    }\r\n    if (fim) {\r\n      params = params.set('fim', fim);\r\n    }\r\n    return this.http.get<AgendamentoResponse[]>(this.apiUrl, { params });\r\n  }\r\n\r\n  /**\r\n   * CT03.4 - Cancelar Agendamento\r\n   */\r\n  cancelarAgendamento(id: number): Observable<AgendamentoResponse> {\r\n    return this.http.patch<AgendamentoResponse>(`${this.apiUrl}/${id}/cancelar`, {});\r\n  }\r\n}\r\n"],"mappings":"AACA,SAAqBA,UAAU,QAAQ,sBAAsB;AAE7D,SAASC,WAAW,QAAQ,sCAAsC;;;AAMlE,OAAM,MAAOC,kBAAkB;EAI/BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,GAAGJ,WAAW,CAACI,MAAM,mBAAmB;EAEjB;EAEtC;;;EAGAC,iBAAiBA,CAACC,GAA0B;IAC1C,OAAO,IAAI,CAACH,IAAI,CAACI,IAAI,CAAsB,IAAI,CAACH,MAAM,EAAEE,GAAG,CAAC;EAC9D;EAEA;;;;EAIAE,eAAeA,CAACC,MAAe,EAAEC,GAAY;IAC3C,IAAIC,MAAM,GAAG,IAAIZ,UAAU,EAAE;IAC7B,IAAIU,MAAM,EAAE;MACVE,MAAM,GAAGA,MAAM,CAACC,GAAG,CAAC,QAAQ,EAAEH,MAAM,CAAC;;IAEvC,IAAIC,GAAG,EAAE;MACPC,MAAM,GAAGA,MAAM,CAACC,GAAG,CAAC,KAAK,EAAEF,GAAG,CAAC;;IAEjC,OAAO,IAAI,CAACP,IAAI,CAACU,GAAG,CAAwB,IAAI,CAACT,MAAM,EAAE;MAAEO;IAAM,CAAE,CAAC;EACtE;EAEA;;;EAGAG,mBAAmBA,CAACC,EAAU;IAC5B,OAAO,IAAI,CAACZ,IAAI,CAACa,KAAK,CAAsB,GAAG,IAAI,CAACZ,MAAM,IAAIW,EAAE,WAAW,EAAE,EAAE,CAAC;EAClF;;;uBAjCWd,kBAAkB,EAAAgB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAlBnB,kBAAkB;MAAAoB,OAAA,EAAlBpB,kBAAkB,CAAAqB,IAAA;MAAAC,UAAA,EAFnB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}