{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../services/cliente.service\";\nimport * as i3 from \"../../../services/pet.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nfunction ClienteFormComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"label\");\n    i0.ɵɵtext(2, \"Senha\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 14);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteFormComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nfunction ClienteFormComponent_div_28_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_28_li_4_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const pet_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.openPetModal(pet_r5));\n    });\n    i0.ɵɵtext(3, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ClienteFormComponent_div_28_li_4_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const pet_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.onDeletePet(pet_r5));\n    });\n    i0.ɵɵtext(5, \"Excluir\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const pet_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", pet_r5.nome, \" - \", pet_r5.tipo, \" \");\n  }\n}\nfunction ClienteFormComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Pets\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\");\n    i0.ɵɵtemplate(4, ClienteFormComponent_div_28_li_4_Template, 6, 2, \"li\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.cliente.pets);\n  }\n}\nfunction ClienteFormComponent_app_pet_modal_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-pet-modal\", 17);\n    i0.ɵɵlistener(\"saveSuccess\", function ClienteFormComponent_app_pet_modal_31_Template_app_pet_modal_saveSuccess_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.handlePetSave());\n    })(\"close\", function ClienteFormComponent_app_pet_modal_31_Template_app_pet_modal_close_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.closePetModal());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"pet\", ctx_r3.currentPetToEdit)(\"clienteId\", ctx_r3.clienteId);\n  }\n}\nclass ClienteFormComponent {\n  constructor(fb, clienteService, petService, router, route // Para ler o :id da URL\n  ) {\n    this.fb = fb;\n    this.clienteService = clienteService;\n    this.petService = petService;\n    this.router = router;\n    this.route = route;\n    this.isEditMode = false;\n    this.isLoading = false;\n    this.errorMessage = null;\n    // --- Dados do Cliente e Pets ---\n    this.clienteId = null;\n    this.cliente = null; // Para listar os pets\n    // --- Estado do Modal de Pet ---\n    this.isPetModalOpen = false;\n    this.currentPetToEdit = null;\n    // UC02 [130] - Formulário com campos: Nome, CPF, Telefone, Endereço\n    // e dados de acesso (E-mail, Senha) [131]\n    this.clienteForm = this.fb.group({\n      nome: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      senha: ['', [Validators.required, Validators.minLength(6)]],\n      cpf: ['', [Validators.required]],\n      telefone: ['', Validators.required],\n      endereco: ['']\n    });\n  }\n  ngOnInit() {\n    // Verifica se há um 'id' nos parâmetros da rota\n    const idParam = this.route.snapshot.paramMap.get('id');\n    if (idParam) {\n      // MODO EDIÇÃO\n      this.isEditMode = true;\n      this.clienteId = +idParam; // Converte string para número\n      // UC02 [133c] - Sistema exibe os dados do cliente\n      this.loadClienteData();\n      // Em modo de edição, a senha não é obrigatória (nem deve ser alterada aqui)\n      this.clienteForm.get('senha')?.clearValidators();\n      this.clienteForm.get('senha')?.updateValueAndValidity();\n    }\n    // else: MODO CRIAÇÃO (formulário já está pronto)\n  }\n  /**\n   * Carrega os dados do cliente (usado no modo de edição).\n   */\n  loadClienteData() {\n    if (!this.clienteId) return;\n    this.isLoading = true;\n    this.clienteService.getClienteById(this.clienteId).subscribe({\n      next: cliente => {\n        this.isLoading = false;\n        this.cliente = cliente; // Armazena o cliente (para listar os pets)\n        // Preenche o formulário com os dados\n        this.clienteForm.patchValue({\n          nome: cliente.nome,\n          email: cliente.email,\n          cpf: cliente.cpf,\n          telefone: cliente.telefone,\n          endereco: cliente.endereco\n        });\n      },\n      error: err => {\n        this.isLoading = false;\n        this.errorMessage = \"Cliente não encontrado.\";\n        this.router.navigate(['/admin/clientes']);\n      }\n    });\n  }\n  /**\n   * Salva o Cliente (Criação ou Edição)\n   * UC02 [131] ou [134]\n   */\n  onSubmit() {\n    if (this.clienteForm.invalid) {\n      this.errorMessage = \"Por favor, corrija os erros no formulário.\";\n      return;\n    }\n    this.isLoading = true;\n    this.errorMessage = null;\n    const formValue = this.clienteForm.value;\n    const saveOperation = this.isEditMode ? this.clienteService.updateCliente(this.clienteId, {\n      nome: formValue.nome,\n      cpf: formValue.cpf,\n      telefone: formValue.telefone,\n      endereco: formValue.endereco\n    }) : this.clienteService.createCliente(formValue);\n    saveOperation.subscribe({\n      next: () => {\n        this.isLoading = false;\n        // (Adicionar Toast de sucesso)\n        this.router.navigate(['/admin/clientes']);\n      },\n      error: err => {\n        this.isLoading = false;\n        // UC02 [137] - Dados Inválidos/Duplicados\n        this.errorMessage = err.error?.erro || \"Erro ao salvar cliente. Verifique o CPF e E-mail.\";\n      }\n    });\n  }\n  // --- Funções de Controle do Modal de Pet (UC03) ---\n  /**\n   * UC03 [135] - Administrador seleciona \"Adicionar Pet\"\n   */\n  openPetModal(pet = null) {\n    this.currentPetToEdit = pet;\n    this.isPetModalOpen = true;\n  }\n  closePetModal() {\n    this.isPetModalOpen = false;\n    this.currentPetToEdit = null;\n  }\n  /**\n   * Chamado quando o modal de pet emite 'saveSuccess'.\n   * Recarrega os dados do cliente para exibir o pet novo/atualizado.\n   */\n  handlePetSave() {\n    this.loadClienteData(); // Recarrega o cliente e sua lista de pets\n  }\n  /**\n   * UC03 (Implícito) - Excluir Pet\n   */\n  onDeletePet(pet) {\n    if (confirm(`Tem certeza que deseja excluir o pet \"${pet.nome}\"?`)) {\n      this.petService.deletePet(pet.id).subscribe({\n        next: () => this.loadClienteData(),\n        error: err => alert(\"Erro ao excluir pet.\")\n      });\n    }\n  }\n  /**\n   * Navega de volta para a lista.\n   */\n  goBack() {\n    this.router.navigate(['/admin/clientes']);\n  }\n  static {\n    this.ɵfac = function ClienteFormComponent_Factory(t) {\n      return new (t || ClienteFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ClienteService), i0.ɵɵdirectiveInject(i3.PetService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ClienteFormComponent,\n      selectors: [[\"app-cliente-form\"]],\n      decls: 32,\n      vars: 9,\n      consts: [[1, \"cliente-form-container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"formControlName\", \"nome\", \"type\", \"text\"], [\"formControlName\", \"email\", \"type\", \"email\", 3, \"readonly\"], [\"class\", \"form-group\", 4, \"ngIf\"], [\"formControlName\", \"cpf\", \"type\", \"text\"], [\"formControlName\", \"telefone\", \"type\", \"text\"], [\"formControlName\", \"endereco\", \"type\", \"text\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"type\", \"submit\", 3, \"disabled\"], [4, \"ngIf\"], [3, \"click\"], [3, \"pet\", \"clienteId\", \"saveSuccess\", \"close\", 4, \"ngIf\"], [\"formControlName\", \"senha\", \"type\", \"password\"], [1, \"error-message\"], [4, \"ngFor\", \"ngForOf\"], [3, \"pet\", \"clienteId\", \"saveSuccess\", \"close\"]],\n      template: function ClienteFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function ClienteFormComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\");\n          i0.ɵɵtext(6, \"Nome\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"input\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\");\n          i0.ɵɵtext(10, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(11, \"input\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(12, ClienteFormComponent_div_12_Template, 4, 0, \"div\", 5);\n          i0.ɵɵelementStart(13, \"div\", 2)(14, \"label\");\n          i0.ɵɵtext(15, \"CPF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(16, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 2)(18, \"label\");\n          i0.ɵɵtext(19, \"Telefone\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"div\", 2)(22, \"label\");\n          i0.ɵɵtext(23, \"Endere\\u00E7o\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(24, \"input\", 8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(25, ClienteFormComponent_div_25_Template, 2, 1, \"div\", 9);\n          i0.ɵɵelementStart(26, \"button\", 10);\n          i0.ɵɵtext(27);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(28, ClienteFormComponent_div_28_Template, 5, 1, \"div\", 11);\n          i0.ɵɵelementStart(29, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function ClienteFormComponent_Template_button_click_29_listener() {\n            return ctx.openPetModal();\n          });\n          i0.ɵɵtext(30, \"Adicionar Pet\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(31, ClienteFormComponent_app_pet_modal_31_Template, 1, 2, \"app-pet-modal\", 13);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.isEditMode ? \"Editar Cliente\" : \"Cadastrar Cliente\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"formGroup\", ctx.clienteForm);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"readonly\", ctx.isEditMode);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isEditMode);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Salvar Altera\\u00E7\\u00F5es\" : \"Cadastrar Cliente\", \" \");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.cliente == null ? null : ctx.cliente.pets == null ? null : ctx.cliente.pets.length);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.isPetModalOpen);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\".form-container[_ngcontent-%COMP%] {\\n  max-width: 900px;\\n  margin: 0 auto;\\n}\\n\\n.form-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 1.5rem;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.btn-back[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  color: var(--color-primary);\\n  font-weight: 500;\\n}\\n.btn-back[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  font-weight: 600;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  background-color: var(--color-white);\\n  border-radius: 8px;\\n  box-shadow: var(--shadow-sm);\\n  padding: 2rem;\\n}\\n\\n.form-section[_ngcontent-%COMP%] {\\n  border: none;\\n  padding: 0;\\n  margin-bottom: 2rem;\\n}\\n.form-section[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  font-weight: 600;\\n  margin-bottom: 1rem;\\n  padding-bottom: 0.5rem;\\n  border-bottom: 1px solid var(--color-border);\\n  width: 100%;\\n}\\n\\n.form-row[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 1.5rem;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  align-items: center;\\n  gap: 1rem;\\n  border-top: 1px solid var(--color-border);\\n  padding-top: 1.5rem;\\n  margin-top: 1.5rem;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  color: var(--color-danger);\\n  margin-right: auto;\\n}\\n\\n.btn-secondary[_ngcontent-%COMP%] {\\n  background-color: var(--color-light);\\n  color: var(--color-dark);\\n  border: 1px solid var(--color-border);\\n}\\n\\n\\n\\n.pet-section[_ngcontent-%COMP%] {\\n  margin-top: 2rem;\\n}\\n.pet-section[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n  padding-bottom: 1rem;\\n  border-bottom: 1px solid var(--color-border);\\n}\\n.pet-section[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n}\\n.no-data[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 1rem;\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvYWRtaW4vcGFnZXMvY2xpZW50ZXMvY2xpZW50ZS1mb3JtL2NsaWVudGUtZm9ybS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFdBQVc7RUFDWCxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsWUFBWTtFQUNaLDJCQUEyQjtFQUMzQixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxvQ0FBb0M7RUFDcEMsa0JBQWtCO0VBQ2xCLDRCQUE0QjtFQUM1QixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxZQUFZO0VBQ1osVUFBVTtFQUNWLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsc0JBQXNCO0VBQ3RCLDRDQUE0QztFQUM1QyxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsOEJBQThCO0VBQzlCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLFNBQVM7RUFDVCx5Q0FBeUM7RUFDekMsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLDBCQUEwQjtFQUMxQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxvQ0FBb0M7RUFDcEMsd0JBQXdCO0VBQ3hCLHFDQUFxQztBQUN2Qzs7QUFFQSxrQkFBa0I7QUFDbEI7RUFDRSxnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLHFCQUFxQjtFQUNyQixvQkFBb0I7RUFDcEIsNENBQTRDO0FBQzlDO0FBQ0E7RUFDRSxpQkFBaUI7QUFDbkI7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0FBQ2Y7QUFDQSwwREFBMEQiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1jb250YWluZXIge1xyXG4gIG1heC13aWR0aDogOTAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi5mb3JtLWhlYWRlciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGdhcDogMS41cmVtO1xyXG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcclxufVxyXG5cclxuLmJ0bi1iYWNrIHtcclxuICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBjb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XHJcbiAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG4uYnRuLWJhY2s6aG92ZXIge1xyXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG59XHJcblxyXG4uZm9ybS1oZWFkZXIgaDEge1xyXG4gIGZvbnQtc2l6ZTogMnJlbTtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3Itd2hpdGUpO1xyXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctc20pO1xyXG4gIHBhZGRpbmc6IDJyZW07XHJcbn1cclxuXHJcbi5mb3JtLXNlY3Rpb24ge1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBwYWRkaW5nOiAwO1xyXG4gIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbn1cclxuLmZvcm0tc2VjdGlvbiBsZWdlbmQge1xyXG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICBwYWRkaW5nLWJvdHRvbTogMC41cmVtO1xyXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1jb2xvci1ib3JkZXIpO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG4uZm9ybS1yb3cge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xyXG4gIGdhcDogMS41cmVtO1xyXG59XHJcblxyXG4uZm9ybS1hY3Rpb25zIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBnYXA6IDFyZW07XHJcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcik7XHJcbiAgcGFkZGluZy10b3A6IDEuNXJlbTtcclxuICBtYXJnaW4tdG9wOiAxLjVyZW07XHJcbn1cclxuXHJcbi5lcnJvci1tZXNzYWdlIHtcclxuICBjb2xvcjogdmFyKC0tY29sb3ItZGFuZ2VyKTtcclxuICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbn1cclxuXHJcbi5idG4tc2Vjb25kYXJ5IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1saWdodCk7XHJcbiAgY29sb3I6IHZhcigtLWNvbG9yLWRhcmspO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcik7XHJcbn1cclxuXHJcbi8qIFNlw4PCp8ODwqNvIGRlIFBldHMgKi9cclxuLnBldC1zZWN0aW9uIHtcclxuICBtYXJnaW4tdG9wOiAycmVtO1xyXG59XHJcbi5wZXQtc2VjdGlvbiAucGFnZS1oZWFkZXIge1xyXG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcclxuICBwYWRkaW5nLWJvdHRvbTogMXJlbTtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tY29sb3ItYm9yZGVyKTtcclxufVxyXG4ucGV0LXNlY3Rpb24gLnBhZ2UtaGVhZGVyIGgyIHtcclxuICBmb250LXNpemU6IDEuNXJlbTtcclxufVxyXG4ubm8tZGF0YSB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDFyZW07XHJcbn1cclxuLyogKFJldXRpbGl6YSBlc3RpbG9zIGRhIGRhdGEtdGFibGUgZGEgY2xpZW50ZS1saXN0LmNzcykgKi8iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}\nexport { ClienteFormComponent };","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","errorMessage","ɵɵlistener","ClienteFormComponent_div_28_li_4_Template_button_click_2_listener","restoredCtx","ɵɵrestoreView","_r7","pet_r5","$implicit","ctx_r6","ɵɵnextContext","ɵɵresetView","openPetModal","ClienteFormComponent_div_28_li_4_Template_button_click_4_listener","ctx_r8","onDeletePet","ɵɵtextInterpolate2","nome","tipo","ɵɵtemplate","ClienteFormComponent_div_28_li_4_Template","ɵɵproperty","ctx_r2","cliente","pets","ClienteFormComponent_app_pet_modal_31_Template_app_pet_modal_saveSuccess_0_listener","_r10","ctx_r9","handlePetSave","ClienteFormComponent_app_pet_modal_31_Template_app_pet_modal_close_0_listener","ctx_r11","closePetModal","ctx_r3","currentPetToEdit","clienteId","ClienteFormComponent","constructor","fb","clienteService","petService","router","route","isEditMode","isLoading","isPetModalOpen","clienteForm","group","required","email","senha","minLength","cpf","telefone","endereco","ngOnInit","idParam","snapshot","paramMap","get","loadClienteData","clearValidators","updateValueAndValidity","getClienteById","subscribe","next","patchValue","error","err","navigate","onSubmit","invalid","formValue","value","saveOperation","updateCliente","createCliente","erro","pet","confirm","deletePet","id","alert","goBack","ɵɵdirectiveInject","i1","FormBuilder","i2","ClienteService","i3","PetService","i4","Router","ActivatedRoute","selectors","decls","vars","consts","template","ClienteFormComponent_Template","rf","ctx","ClienteFormComponent_Template_form_ngSubmit_3_listener","ClienteFormComponent_div_12_Template","ClienteFormComponent_div_25_Template","ClienteFormComponent_div_28_Template","ClienteFormComponent_Template_button_click_29_listener","ClienteFormComponent_app_pet_modal_31_Template","ɵɵtextInterpolate1","length"],"sources":["C:\\TCC\\petflow\\petflow-web\\src\\app\\features\\admin\\pages\\clientes\\cliente-form\\cliente-form.component.ts","C:\\TCC\\petflow\\petflow-web\\src\\app\\features\\admin\\pages\\clientes\\cliente-form\\cliente-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClienteService } from '../../../services/cliente.service';\r\nimport { PetService } from '../../../services/pet.service';\r\nimport { Cliente }\r\nfrom '../../../models/cliente.model';\r\nimport { Pet } from '../../../models/pet.model';\r\n\r\n@Component({\r\nselector: 'app-cliente-form',\r\ntemplateUrl: './cliente-form.component.html',\r\nstyleUrls: ['./cliente-form.component.css']\r\n})\r\nexport class ClienteFormComponent implements OnInit {\r\n// --- Estado do Componente ---\r\nclienteForm: FormGroup;\r\nisEditMode = false;\r\nisLoading = false;\r\nerrorMessage: string | null = null;\r\n\r\n// --- Dados do Cliente e Pets ---\r\npublic clienteId: number | null = null;\r\npublic cliente: Cliente | null = null; // Para listar os pets\r\n\r\n// --- Estado do Modal de Pet ---\r\npublic isPetModalOpen = false;\r\npublic currentPetToEdit: Pet | null = null;\r\n\r\nconstructor(\r\n    private fb: FormBuilder,\r\n    private clienteService: ClienteService,\r\n    private petService: PetService,\r\n    private router: Router,\r\n    private route: ActivatedRoute // Para ler o :id da URL\r\n  ) {\r\n    // UC02 [130] - Formulário com campos: Nome, CPF, Telefone, Endereço\r\n    // e dados de acesso (E-mail, Senha) [131]\r\n    this.clienteForm = this.fb.group({\r\n      nome: ['', Validators.required],\r\n      email: ['', [Validators.required, Validators.email]],\r\n      senha: ['', [Validators.required, Validators.minLength(6)]], // Obrigatório só na criação\r\n      cpf: ['', [Validators.required]], // (Validação de CPF pode ser adicionada)\r\n      telefone: ['', Validators.required],\r\n      endereco: ['']\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // Verifica se há um 'id' nos parâmetros da rota\r\n    const idParam = this.route.snapshot.paramMap.get('id');\r\n\r\n    if (idParam) {\r\n      // MODO EDIÇÃO\r\n      this.isEditMode = true;\r\n      this.clienteId = +idParam; // Converte string para número\r\n\r\n      // UC02 [133c] - Sistema exibe os dados do cliente\r\n      this.loadClienteData();\r\n\r\n      // Em modo de edição, a senha não é obrigatória (nem deve ser alterada aqui)\r\n      this.clienteForm.get('senha')?.clearValidators();\r\n      this.clienteForm.get('senha')?.updateValueAndValidity();\r\n    }\r\n    // else: MODO CRIAÇÃO (formulário já está pronto)\r\n  }\r\n\r\n  /**\r\n   * Carrega os dados do cliente (usado no modo de edição).\r\n   */\r\n  loadClienteData(): void {\r\n    if (!this.clienteId) return;\r\n\r\n    this.isLoading = true;\r\n    this.clienteService.getClienteById(this.clienteId).subscribe({\r\n      next: (cliente) => {\r\n        this.isLoading = false;\r\n        this.cliente = cliente; // Armazena o cliente (para listar os pets)\r\n        // Preenche o formulário com os dados\r\n        this.clienteForm.patchValue({\r\n          nome: cliente.nome,\r\n          email: cliente.email, // (Desabilitar e-mail em edição seria uma boa prática)\r\n          cpf: cliente.cpf,\r\n          telefone: cliente.telefone,\r\n          endereco: cliente.endereco\r\n        });\r\n      },\r\n      error: (err) => {\r\n        this.isLoading = false;\r\n        this.errorMessage = \"Cliente não encontrado.\";\r\n        this.router.navigate(['/admin/clientes']);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Salva o Cliente (Criação ou Edição)\r\n   * UC02 [131] ou [134]\r\n   */\r\n  onSubmit(): void {\r\n    if (this.clienteForm.invalid) {\r\n      this.errorMessage = \"Por favor, corrija os erros no formulário.\";\r\n      return;\r\n    }\r\n\r\n    this.isLoading = true;\r\n    this.errorMessage = null;\r\n\r\n    const formValue = this.clienteForm.value;\r\n\r\n    const saveOperation = this.isEditMode\r\n      ? this.clienteService.updateCliente(this.clienteId!, {\r\n          nome: formValue.nome,\r\n          cpf: formValue.cpf,\r\n          telefone: formValue.telefone,\r\n          endereco: formValue.endereco\r\n        })\r\n      : this.clienteService.createCliente(formValue);\r\n\r\n    saveOperation.subscribe({\r\n      next: () => {\r\n        this.isLoading = false;\r\n        // (Adicionar Toast de sucesso)\r\n        this.router.navigate(['/admin/clientes']);\r\n      },\r\n      error: (err) => {\r\n        this.isLoading = false;\r\n        // UC02 [137] - Dados Inválidos/Duplicados\r\n        this.errorMessage = err.error?.erro || \"Erro ao salvar cliente. Verifique o CPF e E-mail.\";\r\n      }\r\n    });\r\n  }\r\n\r\n  // --- Funções de Controle do Modal de Pet (UC03) ---\r\n\r\n  /**\r\n   * UC03 [135] - Administrador seleciona \"Adicionar Pet\"\r\n   */\r\n  openPetModal(pet: Pet | null = null): void {\r\n    this.currentPetToEdit = pet;\r\n    this.isPetModalOpen = true;\r\n  }\r\n\r\n  closePetModal(): void {\r\n    this.isPetModalOpen = false;\r\n    this.currentPetToEdit = null;\r\n  }\r\n\r\n  /**\r\n   * Chamado quando o modal de pet emite 'saveSuccess'.\r\n   * Recarrega os dados do cliente para exibir o pet novo/atualizado.\r\n   */\r\n  handlePetSave(): void {\r\n    this.loadClienteData(); // Recarrega o cliente e sua lista de pets\r\n  }\r\n\r\n  /**\r\n   * UC03 (Implícito) - Excluir Pet\r\n   */\r\n  onDeletePet(pet: Pet): void {\r\n    if (confirm(`Tem certeza que deseja excluir o pet \"${pet.nome}\"?`)) {\r\n      this.petService.deletePet(pet.id).subscribe({\r\n        next: () => this.loadClienteData(), // Recarrega\r\n        error: (err) => alert(\"Erro ao excluir pet.\")\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Navega de volta para a lista.\r\n   */\r\n  goBack(): void {\r\n    this.router.navigate(['/admin/clientes']);\r\n  }\r\n}","<div class=\"cliente-form-container\">\r\n    <h2>{{ isEditMode ? 'Editar Cliente' : 'Cadastrar Cliente' }}</h2>\r\n\r\n    <form [formGroup]=\"clienteForm\" (ngSubmit)=\"onSubmit()\">\r\n        <div class=\"form-group\">\r\n            <label>Nome</label>\r\n            <input formControlName=\"nome\" type=\"text\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label>E-mail</label>\r\n            <input formControlName=\"email\" type=\"email\" [readonly]=\"isEditMode\" />\r\n        </div>\r\n        <div class=\"form-group\" *ngIf=\"!isEditMode\">\r\n            <label>Senha</label>\r\n            <input formControlName=\"senha\" type=\"password\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label>CPF</label>\r\n            <input formControlName=\"cpf\" type=\"text\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label>Telefone</label>\r\n            <input formControlName=\"telefone\" type=\"text\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label>Endereço</label>\r\n            <input formControlName=\"endereco\" type=\"text\" />\r\n        </div>\r\n\r\n        <div *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\r\n\r\n        <button type=\"submit\" [disabled]=\"isLoading\">\r\n            {{ isEditMode ? 'Salvar Alterações' : 'Cadastrar Cliente' }}\r\n        </button>\r\n    </form>\r\n\r\n    <!-- Lista de Pets -->\r\n    <div *ngIf=\"cliente?.pets?.length\">\r\n        <h3>Pets</h3>\r\n        <ul>\r\n            <li *ngFor=\"let pet of cliente.pets\">\r\n                {{ pet.nome }} - {{ pet.tipo }}\r\n                <button (click)=\"openPetModal(pet)\">Editar</button>\r\n                <button (click)=\"onDeletePet(pet)\">Excluir</button>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n\r\n    <button (click)=\"openPetModal()\">Adicionar Pet</button>\r\n</div>\r\n\r\n<!-- Modal de Pet -->\r\n<app-pet-modal\r\n        *ngIf=\"isPetModalOpen\"\r\n        [pet]=\"currentPetToEdit\"\r\n        [clienteId]=\"clienteId\"\r\n        (saveSuccess)=\"handlePetSave()\"\r\n        (close)=\"closePetModal()\">\r\n</app-pet-modal>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}