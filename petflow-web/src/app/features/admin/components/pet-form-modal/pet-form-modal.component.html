<div class="modal-overlay" (click)="onClose()"></div>

<div class="modal-container">
    <header class="modal-header">
        <h2>{{ isEditMode ? 'Editar Pet' : 'Adicionar Novo Pet' }}</h2>
        <button type="button" class="btn-close" (click)="onClose()">×</button>
    </header>

    <form [formGroup]="petForm" (ngSubmit)="submitForm()">
        <div class="modal-body">
            <div class="form-group">
                <label for="pet-nome" class="form-label">Nome do Pet</label>
                <input id="pet-nome" type="text" class="form-control" formControlName="nome" />
                <div *ngIf="petForm.get('nome')?.touched && petForm.get('nome')?.invalid" class="error-message">
                    Nome é obrigatório.
                </div>
            </div>

            <div class="form-group">
                <label for="pet-especie" class="form-label">Espécie (ex: Cachorro, Gato)</label>
                <input id="pet-especie" type="text" class="form-control" formControlName="especie" />
                <div *ngIf="petForm.get('especie')?.touched && petForm.get('especie')?.invalid" class="error-message">
                    Espécie é obrigatória.
                </div>
            </div>

            <div class="form-group">
                <label for="pet-raca" class="form-label">Raça (ex: SRD, Poodle)</label>
                <input id="pet-raca" type="text" class="form-control" formControlName="raca" />
                <div *ngIf="petForm.get('raca')?.touched && petForm.get('raca')?.invalid" class="error-message">
                    Raça é obrigatória.
                </div>
            </div>

            <div *ngIf="errorMessage" class="error-message">
                {{ errorMessage }}
            </div>
        </div>

        <footer class="modal-footer">
            <button type="button" class="btn-secondary" (click)="onClose()">
                Cancelar
            </button>
            <button type="submit" class="btn-primary" [disabled]="isLoading || petForm.invalid">
                {{ isLoading ? 'Salvando...' : 'Salvar Pet' }}
            </button>
        </footer>
    </form>
</div>
